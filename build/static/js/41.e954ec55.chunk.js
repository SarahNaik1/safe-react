(this["webpackJsonpsafe-react"]=this["webpackJsonpsafe-react"]||[]).push([[41],{1526:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a,r=n(41),i=n(27),c=n(0),o=n(25),s=n(1545),l=n(1563),d=n(21),u=n(1564),b=n(1567),j=n(1568),f=n(23),m=n(337),O=n(13),p=n(1558),g=n(1535),x=n(1551),h=n(2),v=o.default.div(a||(a=Object(i.a)(["\n  padding: 0 "," ",";\n"])),O.lg,O.md),y=function(e){var t=e.children,n=e.operation,a=e.txData,i=e.txValue,o=void 0===i?"0":i,O=e.txTo,y=e.txType,k=e.onSubmit,w=e.onBack,T=e.submitText,P=e.isConfirmDisabled,S=Object(c.useState)("0"),C=Object(r.a)(S,2),R=C[0],I=C[1],B=Object(c.useState)(),E=Object(r.a)(B,2),N=E[0],M=E[1],L=Object(c.useState)(),A=Object(r.a)(L,2),z=A[0],F=A[1],D=Object(c.useState)(),G=Object(r.a)(D,2),V=G[0],H=G[1],W=Object(c.useState)(),U=Object(r.a)(W,2),_=U[0],q=U[1],Q=Object(c.useState)(!0),Y=Object(r.a)(Q,2),J=Y[0],K=Y[1],X=Object(d.l)(),$=Object(g.e)(y),Z=Object(s.b)({txData:a,txRecipient:O||X,txType:y,txAmount:o,safeTxGas:R,manualGasPrice:N,manualMaxPrioFee:z,manualGasLimit:V,manualSafeNonce:_,operation:n}),ee=Z.gasCostFormatted,te=Z.gasPriceFormatted,ne=Z.gasMaxPrioFeeFormatted,ae=Z.gasLimit,re=Z.gasEstimation,ie=Z.txEstimationExecutionStatus,ce=Z.isCreation,oe=Z.isOffChainSignature,se=Object(j.a)(ie),le=Object(r.a)(se,2),de=le[0],ue=le[1],be=Object(x.a)(void 0,_),je=J&&be,fe=function(e){var t=te,n=e.ethGasPrice,a=ae,r=e.ethGasLimit,i=ne,c=e.ethMaxPrioFee,o=re,s=e.safeTxGas,l=e.safeNonce;if(t!==n&&M(n),i!==c&&F(c),a!==r&&H(r),s&&o!==s&&I(s),l){var d=parseInt(l,10);q(d)}};return Object(h.jsx)(l.a,{isOffChainSignature:oe,isExecution:je,ethGasLimit:ae,ethGasPrice:te,ethMaxPrioFee:ne,safeTxGas:re,closeEditModalCallback:fe,children:function(e,n){return Object(h.jsxs)(h.Fragment,{children:[t,Object(h.jsxs)(v,{children:[!$&&be&&Object(h.jsx)(b.a,{onChange:K}),!$&&Object(h.jsx)(p.a,{txParameters:e,onEdit:n,isTransactionCreation:ce,isTransactionExecution:je,isOffChainSignature:oe})]}),!$&&Object(h.jsx)(u.a,{gasCostFormatted:ee,isCreation:ce,isExecution:je,safeNonce:e.safeNonce,txEstimationExecutionStatus:ie}),Object(h.jsx)(m.b.Footer,{withoutBorder:!$&&de!==m.a.LOADING,children:Object(h.jsx)(m.b.Footer.Buttons,{cancelButtonProps:{onClick:w||fe,text:"Back"},confirmButtonProps:{onClick:function(){return function(e){if(ue(m.a.LOADING),!X)return ue(m.a.READY),void Object(f.c)(f.b._802);k(e,!je)}(e)},status:de,disabled:P,text:ie===s.a.LOADING?"Estimating":T,testId:"submit-tx-btn"}})})]})}})}},1533:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(1536),r=function(e){var t=e.currentTarget;/token_placeholder/.test(t.src)||(t.src=a.a)};n(456)},1536:function(e,t,n){"use strict";t.a=n.p+"static/media/token_placeholder.c1abe466.svg"},1542:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var a=n(41),r=n(412),i=n(0),c=n.p+"static/media/qrcode.fec1b6d8.svg",o=n(421),s=n(340),l=n.n(s),d=n(1576),u=n.n(d),b=n(13),j=n(539),f=Object(j.a)({heading:{padding:b.lg,justifyContent:"space-between",maxHeight:"75px",boxSizing:"border-box"},loaderContainer:{width:"100%",height:"100%"},close:{height:"25px",width:"25px",color:b.secondaryText},detailsContainer:{backgroundColor:b.background,maxHeight:"450px"},buttonRow:{height:"84px",justifyContent:"center"},button:{"&:last-child":{marginLeft:b.sm}}}),m=n(337),O=n(148),p=n(293),g=n(127),x=n(171),h=n(85),v=n(109),y=n(2),k=Object(r.a)(f),w=function(e){var t=e.isOpen,n=e.onClose,r=e.onScan,c=k(),s=Object(i.useState)(!1),d=Object(a.a)(s,2),b=d[0],j=d[1],f=Object(i.useState)(null),w=Object(a.a)(f,2),T=w[0],P=w[1],S=Object(i.useState)(!1),C=Object(a.a)(S,2),R=C[0],I=C[1],B=i.createRef(),E=i.useCallback((function(){B.current.openImageDialog()}),[B]);Object(i.useEffect)((function(){b||!R||T||(j(!0),E())}),[R,E,b,j,T]);var N=function(e,t){if(e)return console.error("QR code error",e),void("NotAllowedError"===e.name||"PermissionDismissedError"===e.name?(I(!0),j(!1)):P("The QR could not be read"));t?r(t):R&&P("The QR could not be read")};return Object(y.jsxs)(m.c,{description:"Receive Tokens Form",handleClose:n,open:t,title:"Receive Tokens",children:[Object(y.jsxs)(v.a,{align:"center",className:c.heading,grow:!0,children:[Object(y.jsx)(h.a,{noMargin:!0,size:"xl",children:"Scan QR"}),Object(y.jsx)(o.a,{disableRipple:!0,onClick:n,children:Object(y.jsx)(l.a,{className:c.close})})]}),Object(y.jsx)(x.a,{}),Object(y.jsxs)(g.a,{className:c.detailsContainer,layout:"column",middle:"xs",children:[T&&Object(y.jsx)(O.a,{padding:"md",margin:"md",children:T}),Object(y.jsx)(u.a,{legacyMode:R,onError:function(e){return N(e,null)},onScan:function(e){return N(null,e)},ref:B,style:{width:"400px",height:"400px"},facingMode:"user"})]}),Object(y.jsx)(x.a,{}),Object(y.jsxs)(v.a,{align:"center",className:c.buttonRow,children:[Object(y.jsx)(p.a,{className:c.button,color:"secondary",minWidth:154,onClick:n,children:"Close"}),Object(y.jsx)(p.a,{className:c.button,color:"primary",minWidth:154,onClick:function(){I(!0),P(null),j(!1)},variant:"contained",children:"Upload an image"})]})]})},T=n(128),P=Object(r.a)({qrCodeBtn:{cursor:"pointer"}}),S=function(e){var t=e.handleScan,n=e.testId,r=P(),o=Object(i.useState)(!1),s=Object(a.a)(o,2),l=s[0],d=s[1],u=function(){d(!1)};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(T.a,{alt:"Scan QR",className:r.qrCodeBtn,height:20,onClick:function(){d(!0)},role:"button",src:c,testId:n||"qr-icon"}),l&&Object(y.jsx)(w,{isOpen:l,onClose:u,onScan:function(e){t(e,u)}})]})}},1550:function(e,t,n){"use strict";var a=n(10),r=n(60),i=n(540),c=n(541),o=n(1425),s=n(546),l=n(2),d=["name","onChange","value"],u=["classes","disableError","formControlProps","input","label","meta","renderValue"],b={minWidth:"100%"};t.a=function(e){var t=e.classes,n=e.disableError,j=e.formControlProps,f=e.input,m=f.name,O=f.onChange,p=f.value,g=Object(r.a)(f,d),x=e.label,h=e.meta,v=e.renderValue,y=Object(r.a)(e,u),k=(h.submitError&&!h.dirtySinceLastSubmit||h.error)&&h.touched&&!n,w=Object(a.a)(Object(a.a)({},g),{},{name:m});return Object(l.jsxs)(i.a,Object(a.a)(Object(a.a)({},j),{},{error:k,style:b,children:[Object(l.jsx)(o.a,{htmlFor:m,children:x}),Object(l.jsx)(s.a,Object(a.a)({classes:t,inputProps:w,onChange:O,renderValue:v,value:p},y)),k&&Object(l.jsx)(c.a,{children:h.error||h.submitError})]}))}},1562:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(7),r=n(9),i=n(11),c=n(12),o=n(581),s=n(584),l=n(582),d=n(771),u=n(0),b=n(2),j=function(e){if(e)return{maxWidth:"".concat(e,"px")}},f=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).changeSort=function(t,n){return function(){(0,e.props.onSort)(t,n)}},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.columns,a=t.order,r=t.orderBy;return Object(b.jsx)(s.a,{children:Object(b.jsx)(l.a,{children:n.map((function(t){return Object(b.jsx)(o.a,{align:t.align,padding:t.disablePadding?"none":"normal",sortDirection:r===t.id&&a,children:t.static?Object(b.jsx)("div",{style:t.style,children:t.label}):Object(b.jsx)(d.a,{active:r===t.id,direction:a,onClick:e.changeSort(t.id,t.order),style:t.style,children:t.label})},t.id)}))})})}}]),n}(u.PureComponent);t.b=f},1581:function(e,t,n){"use strict";var a=n(7),r=n(9),i=n(11),c=n(12),o=n(28),s=n(612),l=n(583),d=n(1717),u=n(18),b=n(0),j=n(1562),f=n(73),m=function(e,t,n,a,r){var i=a?"".concat(n,"Order"):n;return r(t[i])<r(e[i])?-1:r(t[i])>r(e[i])?1:0},O=n(109),p=n(13),g=n(2),x={root:{backgroundColor:"white",borderTopRightRadius:p.sm,borderTopLeftRadius:p.sm,boxShadow:"1px 2px 10px 0 rgba(212, 212, 211, 0.59)"},selectRoot:{lineHeight:p.xxl,backgroundColor:"white"},white:{backgroundColor:"white"},paginationRoot:{backgroundColor:"white",boxShadow:"1px 2px 10px 0 rgba(212, 212, 211, 0.59)",marginBottom:"90px",borderBottomRightRadius:p.sm,borderBottomLeftRadius:p.sm},loader:{boxShadow:"1px 2px 10px 0 rgba(212, 212, 211, 0.59)"}},h={"aria-label":"Previous Page"},v={"aria-label":"Next Page"},y=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).onSort=function(e,t){var n=r.state,a=n.order,i=n.orderBy,c=r.props.defaultOrder,o="desc";a&&i===e&&"desc"===a?o="asc":a||"desc"!==c||(o="asc"),r.setState((function(){return{order:o,orderBy:e,orderProp:t,fixed:!1}}))},r.getEmptyStyle=function(){return{height:"calc(100vh - ".concat(255,"px)"),borderTopRightRadius:p.sm,borderTopLeftRadius:p.sm,backgroundColor:"white",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},r.handleChangePage=function(e,t){r.setState({page:t})},r.handleChangeRowsPerPage=function(e){var t=Number(e.target.value);r.setState({rowsPerPage:t})},r.state={page:0,order:void 0,orderBy:void 0,fixed:void 0,orderProp:!1,rowsPerPage:void 0},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.columns,n=e.defaultOrderBy;n&&t&&(t.find((function(e){return e.id===n})).order&&this.setState({orderProp:!0}))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.classes,a=e.columns,r=e.data,i=e.defaultFixed,c=e.defaultOrder,u=e.defaultOrderBy,b=e.defaultRowsPerPage,p=e.disableLoadingOnEmptyTable,x=e.disablePagination,y=e.label,k=e.noBorder,w=e.size,T=this.state,P=T.fixed,S=T.order,C=T.orderBy,R=T.orderProp,I=T.page,B=T.rowsPerPage,E=C||u,N=S||c,M=B||b,L="undefined"!==typeof P?P:!!i,A={selectRoot:n.selectRoot,root:!k&&n.paginationRoot,input:n.white},z=a.find((function(e){return e.id===E})),F=function(e,t,n){var a=n?e.filter((function(e){return e.fixed})):Object(f.a)([]),r=(n?e.filter((function(e){return!e.fixed})):e).map((function(e,t){return[e,t]})),i=(r=r.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]}))).map((function(e){return e[0]}));return a.concat(i)}(r,function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e};return"desc"===e?function(e,r){return m(e,r,t,n,a)}:function(e,r){return-m(e,r,t,n,a)}}(N,E,R,null===z||void 0===z?void 0:z.formatTypeSort),L);x||(F=F.slice(I*M,I*M+M));var D=0===w&&!p;return Object(g.jsxs)(g.Fragment,{children:[!D&&Object(g.jsxs)(s.a,{"aria-labelledby":y,className:k?"":n.root,children:[Object(g.jsx)(j.b,{columns:a,onSort:this.onSort,order:S,orderBy:E}),Object(g.jsx)(l.a,{children:t(F)})]}),D&&Object(g.jsx)(O.a,{className:n.loader,style:this.getEmptyStyle(),children:Object(g.jsx)(o.Loader,{size:"sm"})}),!x&&Object(g.jsx)(d.a,{backIconButtonProps:h,classes:A,component:"div",count:w,nextIconButtonProps:v,onPageChange:this.handleChangePage,onRowsPerPageChange:this.handleChangeRowsPerPage,page:I,rowsPerPage:M,rowsPerPageOptions:[5,10,25,50,100]})]})}}]),n}(b.Component);y.defaultProps={defaultOrder:"asc",disablePagination:!1,defaultRowsPerPage:5};t.a=Object(u.a)(x)(y)},1613:function(e,t,n){"use strict";n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return M}));var a=n(60),r=n(41),i=n(10),c=n(1),o=n.n(c),s=n(16),l=n(610),d=n(2944),u=n(0),b=n(39),j=n(560),f=n(338),m=n(178),O=n(44),p=n(32),g=n(412),x=n(539),h=Object(g.a)(Object(x.a)({root:{overflow:"hidden",borderRadius:4,fontSize:"15px",width:"500px"}})),v=Object(g.a)(Object(x.a)({root:{fontSize:"14px",width:"420px"}})),y=n(156),k=n(157),w=n(23),T=n(64),P=n(57),S=n(36),C=n(190),R=n(102),I=n(2),B=["setIsValidAddress","setSelectedEntry"],E=function(e){var t=e.addressBookEntries,n=e.fieldMutator,a=e.label,r=void 0===a?"Recipient":a,c=e.setIsValidAddress,u=e.setSelectedEntry,f=e.setValidationText,g=e.validationText,x=Object(b.e)(P.a),B=function(e){u(e),n(e.address)},E=function(e){var n=Object(j.k)(e);if(c(!n),!n){var a=Object(C.b)(e).address,r=Object(T.a)(a)||a,i=Object(m.b)(t,{inputValue:r});return 1===i.length?i[0]:r}f(n)},N=function(){var e=Object(s.a)(o.a.mark((function e(t,a,r){var i,c,s,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=r,e.next="input"===e.t0?3:31;break;case 3:if(i=Object(k.c)(a)){e.next=6;break}return e.abrupt("break",31);case 6:if(!Object(R.d)(S.FEATURES.DOMAIN_LOOKUP)||!Object(O.e)(i)&&!Object(O.d)(i)){e.next=24;break}return c="",e.prev=8,e.next=11,Object(p.c)(i);case 11:c=e.sent,e.next=17;break;case 14:e.prev=14,e.t1=e.catch(8),Object(w.c)(w.b._101,e.t1.message);case 17:if(s=E(c)){e.next=21;break}return n(""),e.abrupt("break",31);case 21:return B("string"===typeof s?{address:c,name:i,chainId:x}:s),e.abrupt("break",31);case 24:if(l=E(i)){e.next=28;break}return n(""),e.abrupt("break",31);case 28:return B("string"===typeof l?{address:l,name:"",chainId:x}:l),e.abrupt("break",31);case 31:case"end":return e.stop()}}),e,null,[[8,14]])})));return function(t,n,a){return e.apply(this,arguments)}}(),M=h(),L=v();return Object(I.jsx)(d.a,{closeIcon:null,openOnFocus:!1,filterOptions:m.b,freeSolo:!0,onChange:function(e,t,n){if("select-option"===n){var a=t,r=a.address,i=a.name,c=a.chainId;B({address:r,name:i,chainId:c})}},onInputChange:N,options:t,id:"address-book-input",renderInput:function(e){return Object(I.jsx)(l.a,Object(i.a)(Object(i.a)({},e),{},{autoFocus:!0,error:!!g,fullWidth:!0,variant:"filled",label:g||r,InputLabelProps:{shrink:!0,required:!0,classes:M},InputProps:Object(i.a)(Object(i.a)({},e.InputProps),{},{classes:L}),inputProps:Object(i.a)(Object(i.a)({},e.inputProps),{},{"data-testid":"address-book-input"})}))},getOptionLabel:function(e){return e.address},renderOption:function(e){var t=e.address,n=e.name;return Object(I.jsx)(y.a,{hash:t,name:n,showAvatar:!0})},role:"listbox",style:{display:"flex",flexGrow:1}})},N=function(e){var t=Object(b.e)(f.d),n=Object(u.useState)(""),a=Object(r.a)(n,2),c=a[0],o=a[1];return Object(u.useEffect)((function(){e.errorMsg&&o(e.errorMsg)}),[e.errorMsg]),Object(I.jsx)(E,Object(i.a)({addressBookEntries:t,setValidationText:o,validationText:c},e))},M=function(e){var t=e.setIsValidAddress,n=e.setSelectedEntry,c=Object(a.a)(e,B),l=Object(b.e)(f.d),d=Object(u.useState)([]),O=Object(r.a)(d,2),p=O[0],g=O[1],x=Object(u.useState)(""),h=Object(r.a)(x,2),v=h[0],y=h[1];Object(u.useEffect)((function(){var e=function(){var e=Object(s.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.c)(l);case 2:t=e.sent,g(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[l]);var k=function(){var e=Object(s.a)(o.a.mark((function e(a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===a||void 0===a?void 0:a.address)){e.next=7;break}return e.next=3,Object(j.l)(a.address);case 3:r=e.sent,t(!r),y(null!==r&&void 0!==r?r:""),n(a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsx)(E,Object(i.a)({addressBookEntries:p,setIsValidAddress:t,setSelectedEntry:k,setValidationText:y,validationText:v},c))}},1633:function(e,t,n){"use strict";n.d(t,"b",(function(){return C}));var a,r,i,c,o,s=n(10),l=n(27),d=n(28),u=n(617),b=n(53),j=n(608),f=n(1513),m=n(25),O=n(20),p=n(1669),g=n(2),x=Object(m.default)(d.RadioButtons)(a||(a=Object(l.a)(["\n  & .MuiRadio-colorPrimary.Mui-checked {\n    color: ",";\n  }\n"])),(function(e){return e.theme.colors.primary})),h=Object(m.default)((function(e){var t=Object.assign({},e);return Object(g.jsx)(u.a,Object(s.a)({},t))}))(r||(r=Object(l.a)(["\n  && {\n    .MuiIconButton-label,\n    .MuiSwitch-colorSecondary {\n      color: ",";\n    }\n\n    .MuiSwitch-colorSecondary.Mui-checked .MuiIconButton-label {\n      color: ",";\n    }\n\n    .MuiSwitch-colorSecondary.Mui-checked:hover {\n      background-color: ",";\n    }\n\n    .Mui-checked + .MuiSwitch-track {\n      background-color: ",";\n    }\n  }\n"])),(function(e){return e.theme.colors.icon}),(function(e){return e.theme.colors.primary}),(function(e){var t=e.theme;return Object(b.h)("".concat(t.colors.primary,"03"))}),(function(e){return e.theme.colors.primaryLight})),v=function(e){var t=e.options,n=e.initialValue,a=e.groupName;return Object(g.jsx)(p.a,{name:a,initialValue:n,children:function(e){var a=e.input,r=a.name,i=a.value,c=a.onChange;return Object(g.jsx)(x,{name:r,value:i||n,onRadioChange:c,options:t})}})},y=function(e){var t=e.label,n=e.name;return Object(g.jsx)(j.a,{label:t,control:Object(g.jsx)(p.a,{name:n,type:"checkbox",render:function(e){var t=e.input,n=t.checked,a=t.onChange,r=t.name,i=t.value;return Object(g.jsx)(h,{checked:n,onChange:a,name:r,value:i})}})})},k=m.default.div(i||(i=Object(l.a)(["\n  grid-area: resetTimeLabel;\n"]))),w=m.default.div(c||(c=Object(l.a)(["\n  grid-area: resetTimeToggle;\n"]))),T=m.default.div(o||(o=Object(l.a)(["\n  grid-area: resetTimeOption;\n"]))),P=[{label:"1 day",value:"1440"},{label:"1 week",value:"10080"},{label:"1 month",value:"43200"}],S=[{label:"5 minutes",value:"5"},{label:"30 minutes",value:"30"},{label:"1 hour",value:"60"}],C=function(){return"rinkeby"!==Object(O.f)().toLowerCase()?P:S};t.a=function(){var e=Object(f.c)("withResetTime",{subscription:{value:!0}}).input.value,t=C(),n=e?"choose reset time period":"one time";return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(k,{children:Object(g.jsx)(d.Text,{size:"xl",children:"Set a reset time so the allowance automatically refills after the defined time period."})}),Object(g.jsx)(w,{children:Object(g.jsx)(y,{label:"Reset time (".concat(n,")"),name:"withResetTime"})}),e&&Object(g.jsx)(T,{children:Object(g.jsx)(v,{groupName:"resetTime",initialValue:t[0].value,options:t})})]})}},1669:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a,r,i,c=n(27),o=n(28),s=n(1513),l=n(39),d=n(25),u=n(1517),b=n(560),j=n(243),f=n(1670),m=n(2),O=Object(d.default)(u.a)(a||(a=Object(c.a)(["\n  margin: 8px 0;\n  width: 100%;\n"]))),p=d.default.div(r||(r=Object(c.a)(["\n  grid-area: amountInput;\n"]))),g=Object(d.default)(o.TextField)(i||(i=Object(c.a)(["\n  margin: 0;\n"])));t.b=function(){var e=Object(f.a)(),t=Object(s.c)("token",{subscription:{value:!0}}).input.value,n=Object(s.c)("amount",{subscription:{touched:!0,visited:!0}}).meta,a=n.touched,r=n.visited,i=Object(l.e)(j.a).find((function(e){return e.address===t})),c=(a||r)&&Object(b.d)(b.p,b.m,Object(b.i)(0,!1));return Object(m.jsx)(p,{children:Object(m.jsx)(O,{component:g,label:"Amount*",name:"amount",type:"text","data-testid":"amount-input",endAdornment:null===i||void 0===i?void 0:i.symbol,className:e.amountInput,validate:c})})}},1670:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(412),r=n(539),i=n(13),c=Object(a.a)(Object(r.a)({title:{padding:i.lg,paddingBottom:0},hide:{"&:hover":{backgroundColor:"#f7f5f5"},"&:hover $actions":{visibility:"initial"}},actions:{justifyContent:"flex-end",visibility:"hidden"},noBorderBottom:{"& > td":{borderBottom:"none"}},annotation:{paddingLeft:i.lg},ownersText:{color:i.secondaryText,"& b":{color:i.fontColor}},container:{padding:i.lg},actionButton:{fontWeight:i.boldFont,marginRight:i.sm},buttonRow:{padding:i.lg,left:0,bottom:0,boxSizing:"border-box",width:"100%",justifyContent:"flex-end",borderTop:"2px solid ".concat(i.border)},modifyBtn:{height:i.xl,fontSize:i.smallFontSize},removeModuleIcon:{marginLeft:i.lg,cursor:"pointer"},modalHeading:{boxSizing:"border-box",justifyContent:"space-between",height:"74px",padding:"".concat(i.sm," ").concat(i.lg)},modalContainer:{minHeight:"369px"},modalManage:{fontSize:i.lg},modalClose:{height:"35px",width:"35px"},modalButtonRow:{height:"84px",justifyContent:"center"},modalButtonRemove:{color:"#fff",backgroundColor:i.error,height:"42px"},modalName:{textOverflow:"ellipsis",overflow:"hidden"},modalUserName:{whiteSpace:"nowrap"},modalOwner:{backgroundColor:i.background,padding:i.md,alignItems:"center"},modalUser:{justifyContent:"left"},modalDescription:{padding:i.md},modalOpen:{paddingLeft:i.sm,width:"auto","&:hover":{cursor:"pointer"}},amountInput:{width:"100% !important"}}))},1671:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return v}));var a,r,i=n(28),c=n(39),o=n(156),s=n(20),l=n(338),d=n(342),u=n(157),b=n(2),j=function(e){var t=e.address,n=e.title,a=e.name,r=e.logoUri,j=Object(c.e)((function(e){return Object(l.a)(e,{address:t})}));return Object(b.jsxs)(b.Fragment,{children:[n&&Object(b.jsx)(i.Text,{size:"xl",strong:!0,children:n}),Object(b.jsx)(o.a,{hash:t,name:Object(u.a)(j,d.a)?a:j,showCopyBtn:!0,showAvatar:!0,textSize:"lg",explorerUrl:Object(s.i)(t),customAvatar:r||void 0})]})},f=n(109),m=function(e){var t=e.title,n=e.label;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(i.Text,{size:"xl",strong:!0,children:t}),n?Object(b.jsx)(f.a,{align:"center",margin:"md",children:Object(b.jsx)(i.IconText,{iconSize:"md",iconType:"fuelIndicator",text:n,textSize:"lg"})}):Object(b.jsx)(f.a,{align:"center",margin:"md",children:Object(b.jsx)(i.Text,{size:"lg",children:"One-time spending limit"})})]})},O=n(27),p=n(25),g=n(1533),x=p.default.img(a||(a=Object(O.a)(["\n  width: 32px;\n  height: 32px;\n  object-fit: contain;\n  margin: 0 8px 0 0;\n"]))),h=p.default.div(r||(r=Object(O.a)(["\n  display: flex;\n  align-items: center;\n"]))),v=function(e){var t=e.amount,n=e.title,a=e.token;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(i.Text,{size:"xl",strong:!0,children:n}),Object(b.jsxs)(h,{children:[Object(b.jsx)(x,{alt:a.name,onError:g.a,src:a.logoUri||""}),Object(b.jsxs)(i.Text,{size:"lg",children:[t," ",a.symbol]})]})]})}},1712:function(e,t,n){"use strict";var a=n(39),r=n(44),i=n(243);t.a=function(e){var t=Object(a.e)(i.c);if(t)return t.find((function(t){return Object(r.f)(t.address,e)}))}},1713:function(e,t,n){"use strict";n(612);var a=n(581);n.d(t,"a",(function(){return a.a}));var r=n(582);n.d(t,"b",(function(){return r.a}));n(2)},1717:function(e,t,n){"use strict";var a=n(4),r=n(14),i=n(0),c=(n(19),n(15)),o=n(18),s=n(811),l=n(609),d=n(546),u=n(581),b=n(50),j=i.forwardRef((function(e,t){var n=e.classes,o=e.className,s=e.component,l=void 0===s?"div":s,d=e.disableGutters,u=void 0!==d&&d,b=e.variant,j=void 0===b?"regular":b,f=Object(r.a)(e,["classes","className","component","disableGutters","variant"]);return i.createElement(l,Object(a.a)({className:Object(c.default)(n.root,n[j],o,!u&&n.gutters),ref:t},f))})),f=Object(o.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center"},gutters:Object(b.a)({paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),regular:e.mixins.toolbar,dense:{minHeight:48}}}),{name:"MuiToolbar"})(j),m=n(210),O=n(575),p=n(576),g=n(90),x=n(421),h=i.createElement(p.a,null),v=i.createElement(O.a,null),y=i.createElement(O.a,null),k=i.createElement(p.a,null),w=i.forwardRef((function(e,t){var n=e.backIconButtonProps,c=e.count,o=e.nextIconButtonProps,s=e.onChangePage,l=void 0===s?function(){}:s,d=e.onPageChange,u=void 0===d?function(){}:d,b=e.page,j=e.rowsPerPage,f=Object(r.a)(e,["backIconButtonProps","count","nextIconButtonProps","onChangePage","onPageChange","page","rowsPerPage"]),m=Object(g.a)();return i.createElement("div",Object(a.a)({ref:t},f),i.createElement(x.a,Object(a.a)({onClick:function(e){l(e,b-1),u(e,b-1)},disabled:0===b,color:"inherit"},n),"rtl"===m.direction?h:v),i.createElement(x.a,Object(a.a)({onClick:function(e){l(e,b+1),u(e,b+1)},disabled:-1!==c&&b>=Math.ceil(c/j)-1,color:"inherit"},o),"rtl"===m.direction?y:k))})),T=n(253),P=function(e){var t=e.from,n=e.to,a=e.count;return"".concat(t,"-").concat(n," of ").concat(-1!==a?a:"more than ".concat(n))},S=[10,25,50,100],C=i.forwardRef((function(e,t){var n,o=e.ActionsComponent,b=void 0===o?w:o,j=e.backIconButtonProps,O=e.backIconButtonText,p=void 0===O?"Previous page":O,g=e.classes,x=e.className,h=e.colSpan,v=e.component,y=void 0===v?u.a:v,k=e.count,C=e.labelDisplayedRows,R=void 0===C?P:C,I=e.labelRowsPerPage,B=void 0===I?"Rows per page:":I,E=e.nextIconButtonProps,N=e.nextIconButtonText,M=void 0===N?"Next page":N,L=e.onChangePage,A=e.onPageChange,z=e.onChangeRowsPerPage,F=e.onRowsPerPageChange,D=e.page,G=e.rowsPerPage,V=e.rowsPerPageOptions,H=void 0===V?S:V,W=e.SelectProps,U=void 0===W?{}:W,_=Object(r.a)(e,["ActionsComponent","backIconButtonProps","backIconButtonText","classes","className","colSpan","component","count","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","nextIconButtonText","onChangePage","onPageChange","onChangeRowsPerPage","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps"]),q=z||F;y!==u.a&&"td"!==y||(n=h||1e3);var Q=Object(T.a)(),Y=Object(T.a)(),J=U.native?"option":l.a;return i.createElement(y,Object(a.a)({className:Object(c.default)(g.root,x),colSpan:n,ref:t},_),i.createElement(f,{className:g.toolbar},i.createElement("div",{className:g.spacer}),H.length>1&&i.createElement(m.a,{color:"inherit",variant:"body2",className:g.caption,id:Y},B),H.length>1&&i.createElement(d.a,Object(a.a)({classes:{select:g.select,icon:g.selectIcon},input:i.createElement(s.a,{className:Object(c.default)(g.input,g.selectRoot)}),value:G,onChange:q,id:Q,labelId:Y},U),H.map((function(e){return i.createElement(J,{className:g.menuItem,key:e.value?e.value:e,value:e.value?e.value:e},e.label?e.label:e)}))),i.createElement(m.a,{color:"inherit",variant:"body2",className:g.caption},R({from:0===k?0:D*G+1,to:-1!==k?Math.min(k,(D+1)*G):(D+1)*G,count:-1===k?-1:k,page:D})),i.createElement(b,{className:g.actions,backIconButtonProps:Object(a.a)({title:p,"aria-label":p},j),count:k,nextIconButtonProps:Object(a.a)({title:M,"aria-label":M},E),onChangePage:L,onPageChange:A,page:D,rowsPerPage:G})))}));t.a=Object(o.a)((function(e){return{root:{color:e.palette.text.primary,fontSize:e.typography.pxToRem(14),overflow:"auto","&:last-child":{padding:0}},toolbar:{minHeight:52,paddingRight:2},spacer:{flex:"1 1 100%"},caption:{flexShrink:0},selectRoot:{marginRight:32,marginLeft:8},select:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"},selectIcon:{},input:{color:"inherit",fontSize:"inherit",flexShrink:0},menuItem:{},actions:{flexShrink:0,marginLeft:20}}}),{name:"MuiTablePagination"})(C)},1754:function(e,t,n){"use strict";var a=n(4),r=n(14),i=n(0),c=(n(19),n(15)),o=n(18),s=n(198),l=i.forwardRef((function(e,t){var n=e.classes,o=e.className,l=Object(r.a)(e,["classes","className"]),d=i.useContext(s.a);return i.createElement("div",Object(a.a)({className:Object(c.default)(n.root,o,"flex-start"===d.alignItems&&n.alignItemsFlexStart),ref:t},l))}));t.a=Object(o.a)((function(e){return{root:{minWidth:56,color:e.palette.action.active,flexShrink:0,display:"inline-flex"},alignItemsFlexStart:{marginTop:8}}}),{name:"MuiListItemIcon"})(l)},1838:function(e,t,n){"use strict";var a=n(10),r=n(28),i=n(1754),c=n(1504),o=n(609),s=n(1517),l=n(1550),d=n(560),u=n(128),b=n(251),j=n(1533),f=n(412),m=n(539),O=n(13),p=Object(f.a)(Object(m.a)({container:{minHeight:"55px",padding:0,width:"100%"},tokenData:{padding:0,margin:0,lineHeight:"14px"},tokenImage:{display:"block",marginRight:O.sm,height:28,width:"auto"}})),g=Object(f.a)(Object(m.a)({selectMenu:{paddingRight:0}})),x=n(2),h=function(e){var t,n,a=e.tokenAddress,s=e.tokens,l=p(),d=s.find((function(e){return e.address===a}));return Object(x.jsx)(o.a,{className:l.container,children:d?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(i.a,{children:Object(x.jsx)(u.a,{className:l.tokenImage,alt:d.name,onError:j.a,src:d.logoUri||""})}),Object(x.jsx)(c.a,{className:l.tokenData,primary:d.name,secondary:"".concat(Object(b.a)(null!==(t=null===(n=d.balance)||void 0===n?void 0:n.tokenBalance.toString())&&void 0!==t?t:"0")," ").concat(d.symbol)})]}):Object(x.jsx)(r.Text,{color:"placeHolder",size:"xl",children:"Select an asset*"})})};t.a=function(e){var t=e.initialValue,n=e.isValid,r=void 0===n||n,f=e.tokens,m=g(),O=p();return Object(x.jsx)(s.a,{classes:{selectMenu:m.selectMenu},className:r?"isValid":"isInvalid",component:function(e){return Object(x.jsx)(l.a,Object(a.a)(Object(a.a)({},e),{},{inputProps:{"data-testid":"token-input"}}))},displayEmpty:!0,initialValue:t,name:"token",renderValue:function(e){return Object(x.jsx)(h,{tokenAddress:e,tokens:f})},validate:d.p,children:f.map((function(e){var t,n;return Object(x.jsxs)(o.a,{value:e.address,children:[Object(x.jsx)(i.a,{children:Object(x.jsx)(u.a,{className:O.tokenImage,alt:e.name,onError:j.a,src:e.logoUri||""})}),Object(x.jsx)(c.a,{primary:e.name,secondary:"".concat(Object(b.a)(null!==(t=null===(n=e.balance)||void 0===n?void 0:n.tokenBalance.toString())&&void 0!==t?t:"0")," ").concat(e.symbol),"data-testid":"select-token-".concat(e.name)})]},e.address)}))})}},2940:function(e,t,n){"use strict";n.r(t);var a=n(41),r=n(27),i=n(28),c=n(0),o=n(39),s=n(25),l=n(148),d=n(127),u=n(109),b=n(78),j=n(243),f=n(10),m=n(613),O=n(297),p=n.n(O),g=n(348),x=n(1713),h=n(1581),v=n(1671),y=n(171),k=n(337),w=n(561),T=n(1712),P=n(562),S=n(62),C=n(586),R=n(294),I=n(26),B=n(1633),E=n(21),N=n(1526),M=n(2),L=function(e){var t,n,r=e.onClose,i=e.spendingLimit,s=e.open,l=Object(T.a)(i.spent.tokenAddress),u=Object(E.l)(),b=Object(c.useState)(""),j=Object(a.a)(b,2),f=j[0],m=j[1],O=Object(o.d)();Object(c.useEffect)((function(){var e=i.beneficiary,t=i.spent.tokenAddress,n=Object(C.d)({beneficiary:e,tokenAddress:t});m(n)}),[i]);var p=null!==(t=null===(n=Object(B.b)().find((function(e){return+e.value===+i.resetTime.resetTimeMin})))||void 0===n?void 0:n.label)&&void 0!==t?t:"";return Object(M.jsx)(k.b,{handleClose:r,open:s,title:"Remove spending limit",description:"Remove the selected spending limit",children:Object(M.jsxs)(N.a,{txData:f,txTo:I.r,onSubmit:function(e,t){try{O(Object(P.c)({safeAddress:u,to:I.r,valueInWei:"0",txData:f,txNonce:e.safeNonce,safeTxGas:e.safeTxGas,ethParameters:e,notifiedTransaction:S.a.REMOVE_SPENDING_LIMIT_TX,delayExecution:t}))}catch(n){console.error("failed to remove spending limit ".concat(i.beneficiary," -> ").concat(i.spent.tokenAddress),n.message)}},submitText:"Remove",children:[Object(M.jsx)(w.a,{onClose:r,title:"Remove spending limit"}),Object(M.jsx)(y.a,{}),Object(M.jsxs)(k.b.Body,{children:[Object(M.jsx)(d.a,{margin:"lg",children:Object(M.jsx)(v.a,{title:"Beneficiary",address:i.beneficiary})}),Object(M.jsx)(d.a,{margin:"lg",children:l&&Object(M.jsx)(v.c,{amount:Object(R.a)(i.spent.amount,l.decimals),title:"Amount",token:l})}),Object(M.jsx)(d.a,{margin:"lg",children:Object(M.jsx)(v.b,{title:"Reset Time",label:p})})]})]})})},A=n(1670),z=n(17),F=n(73),D=n(577),G="beneficiary",V="spent",H="resetTime",W=n(251),U=n(1533);function _(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var q,Q,Y,J,K,X,$,Z,ee,te,ne=s.default.img(q||(q=Object(r.a)(["\n  width: 32px;\n  height: 32px;\n  object-fit: contain;\n  margin: 0 8px 0 0;\n"]))),ae=s.default.div(Q||(Q=Object(r.a)(["\n  display: flex;\n  align-items: center;\n"]))),re=function(e){var t=e.amount,n=e.spent,r=e.tokenAddress,o=function(){var e=Object(c.useState)(_()),t=Object(a.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){function e(){r(_())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}().width,s=Object(c.useMemo)((function(){return o>1024}),[o]),l=Object(T.a)(r),d=function(e){var t=e.amount,n=e.spent,a=e.tokenInfo;return Object(c.useMemo)((function(){if(a){var e=Object(W.a)(Object(R.a)(n,a.decimals)).toString();return{amount:Object(W.a)(Object(R.a)(t,a.decimals)).toString(),spent:e}}}),[t,n,a])}({amount:t,spent:n,tokenInfo:l});return d&&l?Object(M.jsxs)(ae,{children:[s&&Object(M.jsx)(ne,{alt:l.name,onError:U.a,src:l.logoUri||""}),Object(M.jsx)(i.Text,{size:"lg",children:"".concat(d.spent," of ").concat(d.amount," ").concat(l.symbol)})]}):null},ie=function(e){var t=e.data,n=Object(A.a)(),r=Object(o.e)(j.b),s=function(){var e={align:"left",custom:!1,disablePadding:!1,id:G,label:"Beneficiary",order:!1},t={align:"left",custom:!1,disablePadding:!1,id:V,label:"Spent",order:!1,static:!0},n={align:"left",custom:!1,disablePadding:!1,id:H,label:"Reset Time",order:!1,static:!0},a={custom:!0,disablePadding:!1,id:"action",label:"",order:!1};return Object(F.a)([e,t,n,a])}(),l=s.filter((function(e){return!e.custom})),d=Object(c.useState)(),b=Object(a.a)(d,2),O=b[0],y=b[1];return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(m.a,{style:{minHeight:"440px"},children:Object(M.jsx)(h.a,{columns:s,data:t,defaultFixed:!0,defaultOrderBy:G,defaultRowsPerPage:5,label:"Spending limits",noBorder:!0,size:null===t||void 0===t?void 0:t.length,children:function(e){return e.map((function(t,a){return Object(M.jsxs)(x.b,{className:p()(n.hide,a>=3&&a===e.size-1&&n.noBorderBottom),"data-testid":"spending-limit-table-row",tabIndex:-1,children:[l.map((function(e,n){var a=e.id,r=t[a];return Object(M.jsxs)(x.a,{align:e.align,component:"td",children:[a===G&&Object(M.jsx)(v.a,{address:r}),a===V&&Object(M.jsx)(re,Object(f.a)({},r)),a===H&&Object(M.jsx)(i.Text,{size:"lg",children:r.relativeTime})]},"".concat(a,"-").concat(n))})),Object(M.jsx)(x.a,{component:"td",children:Object(M.jsx)(u.a,{align:"end",className:n.actions,children:r&&Object(M.jsx)(g.a,{onClick:function(){return y(t)},"data-testid":"remove-limit-btn",children:Object(M.jsx)(i.Icon,{size:"sm",type:"delete",color:"error",tooltip:"Remove limit"})})})})]},a)}))}})}),O&&Object(M.jsx)(L,{onClose:function(){return y(void 0)},spendingLimit:O,open:!0})]})},ce=n(1),oe=n.n(ce),se=n(16),le=n(388),de=n(44),ue=n(1532),be=n(1669),je=n(1513),fe=n(1542),me=n(156),Oe=n(20),pe=n(338),ge=n(1613),xe=n(157),he=n(560),ve=s.default.div(Y||(Y=Object(r.a)(["\n  grid-area: beneficiaryInput;\n"]))),ye=s.default.div(J||(J=Object(r.a)(["\n  grid-area: beneficiaryScan;\n"]))),ke=function(){var e=Object(je.e)().initialValues,t=Object(je.d)().mutators,n=Object(c.useState)(""),r=Object(a.a)(n,2),i=r[0],s=r[1],l=Object(c.useState)({address:(null===e||void 0===e?void 0:e.beneficiary)||"",name:""}),d=Object(a.a)(l,2),u=d[0],b=d[1],j=Object(c.useState)(!(null===e||void 0===e?void 0:e.beneficiary)),f=Object(a.a)(j,2),m=f[0],O=f[1];Object(c.useEffect)((function(){var e;null===u&&(null===t||void 0===t||null===(e=t.setBeneficiary)||void 0===e||e.call(t,""),m&&O(!1))}),[t,m,u]);var p=Object(o.e)(pe.d);return(null===u||void 0===u?void 0:u.address)?Object(M.jsx)(ve,{role:"button","aria-pressed":"false",tabIndex:0,onKeyDown:function(e){Object(xe.a)(e.key,"Tab")||b(null)},onClick:function(){b(null)},children:Object(M.jsx)(me.a,{hash:u.address,name:u.name,showCopyBtn:!0,showAvatar:!0,textSize:"lg",explorerUrl:Object(Oe.i)(u.address)})}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(ve,{children:Object(M.jsx)(ge.a,{fieldMutator:null===t||void 0===t?void 0:t.setBeneficiary,pristine:m,errorMsg:i,setSelectedEntry:b,setIsValidAddress:function(){},label:"Beneficiary"})}),Object(M.jsx)(ye,{children:Object(M.jsx)(fe.a,{handleScan:function(e,n){var a,r,i=e.startsWith("ethereum:")?e.replace("ethereum:",""):e,c=null===(a=p.find((function(e){var t=e.address;return Object(de.f)(i,t)})))||void 0===a?void 0:a.name,o=Object(he.k)(i);o?s(o):(null===t||void 0===t||null===(r=t.setBeneficiary)||void 0===r||r.call(t,i),b({name:c,address:i}),s(""));n()}})})]})},we=n(1838),Te=s.default.div(K||(K=Object(r.a)(["\n  grid-area: tokenInput;\n"]))),Pe=function(){var e=Object(o.e)(j.a);return Object(M.jsx)(Te,{children:Object(M.jsx)(we.a,{tokens:e})})},Se=s.default.div(X||(X=Object(r.a)(["\n  padding: 24px 8px 24px 24px;\n  align-items: center;\n  display: grid;\n  grid-template-columns: 4fr 1fr;\n  grid-template-rows: 6fr;\n  gap: 16px 8px;\n  grid-template-areas:\n    'beneficiaryInput beneficiaryScan'\n    'tokenInput .'\n    'amountInput .'\n    'resetTimeLabel resetTimeLabel'\n    'resetTimeToggle resetTimeToggle'\n    'resetTimeOption resetTimeOption';\n"]))),Ce={setBeneficiary:function(e,t,n){n.changeValue(t,"beneficiary",(function(){return e[0]}))}},Re=function(e){var t=e.invalid,n=e.submitting,a=e.dirtyFieldsSinceLastSubmit,r=e.values,i=r.beneficiary,c=r.token,o=r.amount;return!(n||t||!i||!c||!o||!a)},Ie=function(e){var t=e.initialValues,n=e.onCancel,a=e.onReview;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(w.a,{onClose:n,title:"New spending limit",subTitle:"1 of 2"}),Object(M.jsx)(y.a,{}),Object(M.jsx)(ue.a,{formMutators:Ce,onSubmit:a,initialValues:t,children:function(){return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(Se,{children:[Object(M.jsx)(ke,{}),Object(M.jsx)(Pe,{}),Object(M.jsx)(be.b,{}),Object(M.jsx)(B.a,{})]}),Object(M.jsx)(k.b.Footer,{children:Object(M.jsx)(k.b.Footer.Buttons,{cancelButtonProps:{onClick:n},confirmButtonProps:{disabled:!Re(arguments.length<=2?void 0:arguments[2]),text:"Review"}})})]})}})]})},Be=n(79),Ee=n(316),Ne=function(){var e=Object(se.a)(oe.a.mark((function e(t,n,a,r,i,c,o,s,l){var d,u,b,j,f,m,O,p;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=Object(Ee.d)(s,I.r),b=[],u||!t){e.next=7;break}return e.next=5,Object(C.c)(t,n,a);case 5:j=e.sent,b.push(j);case 7:return!(null!==(d=null===r||void 0===r?void 0:r.some((function(e){var t=e.delegate;return Object(de.f)(t,null===o||void 0===o?void 0:o.beneficiary)})))&&void 0!==d&&d)&&(null===o||void 0===o?void 0:o.beneficiary)&&b.push(Object(C.a)(o.beneficiary)),i&&"0"!==i.spent&&b.push(Object(C.e)(i.delegate,c.address)),f=Object(C.b)()-30,m={beneficiary:o.beneficiary,token:o.token,spendingLimitInWei:Object(R.c)(o.amount,c.decimals),resetTimeMin:o.withResetTime?+o.resetTime:0,resetBaseMin:o.withResetTime?f:0},t&&(0===b.length?O=Object(C.i)({spendingLimitArgs:m,safeAddress:t}):(p=Object(C.h)({spendingLimitArgs:m,safeAddress:t}),b.push(p),O=Object(C.k)({transactions:b,safeAddress:t})),l&&(O.txNonce=l.safeNonce,O.safeTxGas=l.safeTxGas?l.safeTxGas:void 0,O.ethParameters=l)),e.abrupt("return",{spendingLimitTxData:O,transactions:b,spendingLimitArgs:m});case 14:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i,c,o,s,l){return e.apply(this,arguments)}}(),Me=function(e){var t,n=e.onBack,r=e.onClose,s=e.txToken,l=e.values,j=Object(o.d)(),m=null!==(t=Object(o.e)(b.a))&&void 0!==t?t:{},O=m.address,p=void 0===O?"":O,g=m.spendingLimits,x=m.currentVersion,h=void 0===x?"":x,T=m.modules,S=Object(o.e)(Be.g),C=function(e){var t=e.spendingLimits,n=e.txToken,a=e.values;return Object(c.useMemo)((function(){var e=null===t||void 0===t?void 0:t.find((function(e){var t=e.delegate,n=e.token;return Object(de.f)(t,a.beneficiary)&&Object(de.f)(n,a.token)}));return void 0!==e?Object(f.a)(Object(f.a)({},e),{},{amount:Object(R.a)(e.amount,n.decimals)}):null}),[t,n.decimals,a.beneficiary,a.token])}({spendingLimits:g,txToken:s,values:l}),I=Object(c.useState)({to:"",txData:""}),E=Object(a.a)(I,2),L=E[0],A=E[1],z=Object(c.useMemo)((function(){return(null===T||void 0===T?void 0:T.map((function(e){return e[1]})))||[]}),[T]);Object(c.useEffect)((function(){var e=function(){var e=Object(se.a)(oe.a.mark((function e(){var t,n;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne(p,h,S,g,C,s,l,z);case 2:t=e.sent,n=t.spendingLimitTxData,A(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[p,h,S,g,C,s,l,z]);var F=function(){var e=Object(se.a)(oe.a.mark((function e(t,n){var a,r,i,c,o,d;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.ethGasPrice,r=t.ethGasLimit,i=t.ethGasPriceInGWei,c=Object(f.a)(Object(f.a)({},t),{},{ethGasPrice:a,ethGasPriceInGWei:i,ethGasLimit:r}),!p){e.next=8;break}return e.next=5,Ne(p,h,S,g,C,s,l,z,c);case 5:o=e.sent,d=o.spendingLimitTxData,j(Object(P.c)(Object(f.a)(Object(f.a)({},d),{},{delayExecution:n})));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D=Object(c.useMemo)((function(){var e;return l.withResetTime?null===(e=Object(B.b)().find((function(e){return e.value===l.resetTime})))||void 0===e?void 0:e.label:""}),[l.resetTime,l.withResetTime]);return Object(M.jsxs)(N.a,{txData:L.txData||"",txTo:L.to,operation:L.operation,onSubmit:F,onBack:function(){return n({values:{},txToken:Object(le.a)(),step:Le})},submitText:"Submit",isConfirmDisabled:void 0===C,children:[Object(M.jsx)(w.a,{onClose:r,title:"New spending limit",subTitle:"2 of 2"}),Object(M.jsx)(y.a,{}),Object(M.jsxs)(k.b.Body,{children:[Object(M.jsx)(d.a,{margin:"lg",children:Object(M.jsx)(v.a,{address:l.beneficiary,title:"Beneficiary"})}),Object(M.jsxs)(d.a,{margin:"lg",children:[Object(M.jsx)(v.c,{amount:Object(R.a)(Object(R.c)(l.amount,s.decimals),s.decimals),title:"Amount",token:s}),C&&Object(M.jsxs)(i.Text,{size:"lg",color:"error",children:["Previous Amount: ",C.amount]})]}),Object(M.jsxs)(d.a,{margin:"lg",children:[Object(M.jsx)(v.b,{title:"Reset Time",label:D}),C&&Object(M.jsx)(u.a,{align:"center",margin:"md",children:Object(M.jsxs)(i.Text,{size:"lg",color:"error",children:["Previous Reset Time: ",function(e){var t,n;return null!==(t=null===(n=Object(B.b)().find((function(t){return t.value===(+e.resetTimeMin).toString()})))||void 0===n?void 0:n.label)&&void 0!==t?t:"One-time spending limit"}(C)]})})]}),C&&Object(M.jsx)(d.a,{margin:"md",children:Object(M.jsx)(i.Text,{size:"xl",color:"error",center:!0,strong:!0,children:"You are about to replace an existent spending limit"})})]})]})},Le="CREATE",Ae="REVIEW",ze=function(e,t){var n=t.type,a=t.newState,r=t.tokens;switch(n){case Le:return Object(f.a)(Object(f.a)({},e),{},{step:Le});case Ae:var i;return Object(f.a)(Object(f.a)(Object(f.a)({},e),a),{},{txToken:null!==(i=r.find((function(e){return Object(de.f)(e.address,a.values.token)})))&&void 0!==i?i:e.txToken,step:Ae})}},Fe=function(e){var t=e.close,n=e.open,r=function(e){var t=Object(o.e)(j.a),n=Object(c.useReducer)(ze,{step:e,txToken:Object(le.a)(),values:{}},(function(e){return e})),r=Object(a.a)(n,2),i=r[0],s=r[1];return[i,{create:Object(c.useCallback)((function(e){return s({type:Le,newState:e,tokens:t})}),[t]),review:Object(c.useCallback)((function(e){return s({type:Ae,newState:e,tokens:t})}),[t])}]}(Le),i=Object(a.a)(r,2),s=i[0],l=s.step,d=s.txToken,u=s.values,b=i[1],f=b.create,m=b.review,O=function(){var e=Object(se.a)(oe.a.mark((function e(t){return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m({step:l,txToken:d,values:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(M.jsxs)(k.b,{handleClose:t,open:n,title:"New spending limit",description:"set rules for specific beneficiaries to access funds from this Safe without having to collect all signatures",children:[l===Le&&Object(M.jsx)(Ie,{initialValues:u,onCancel:t,onReview:O}),l===Ae&&Object(M.jsx)(Me,{onBack:f,onClose:t,txToken:d,values:u})]})},De=n(128),Ge=n.p+"static/media/asset-amount.98054bf3.svg",Ve=n.p+"static/media/beneficiary.0beb8d31.svg",He=n.p+"static/media/time.31d09fca.svg",We=s.default.div($||($=Object(r.a)(["\n  display: flex;\n  justify-content: space-around;\n  margin-top: 20px;\n  max-width: 720px;\n  text-align: center;\n"]))),Ue=s.default.div(Z||(Z=Object(r.a)(["\n  width: 24%;\n  min-width: 120px;\n  max-width: 164px;\n"]))),_e=s.default.div(ee||(ee=Object(r.a)(["\n  height: 2px;\n  flex: 1;\n  background: #d4d5d3;\n  margin: 46px 0;\n"]))),qe=function(){return Object(M.jsxs)(We,{children:[Object(M.jsxs)(Ue,{children:[Object(M.jsx)(De.a,{alt:"Select Beneficiary",title:"Beneficiary",height:96,src:Ve}),Object(M.jsx)(i.Text,{size:"lg",color:"placeHolder",strong:!0,center:!0,children:"Select Beneficiary"}),Object(M.jsx)(i.Text,{size:"lg",color:"placeHolder",center:!0,children:"Define beneficiary that will be able to use the allowance."}),Object(M.jsx)(i.Text,{size:"lg",color:"placeHolder",center:!0,children:"The beneficiary does not have to be an owner of this Safe"})]}),Object(M.jsx)(_e,{}),Object(M.jsxs)(Ue,{children:[Object(M.jsx)(De.a,{alt:"Select asset and amount",title:"Asset and Amount",height:96,src:Ge}),Object(M.jsx)(i.Text,{size:"lg",color:"placeHolder",strong:!0,center:!0,children:"Select asset and amount"}),Object(M.jsx)(i.Text,{size:"lg",color:"placeHolder",center:!0,children:"You can set a spending limit for any asset stored in your Safe"})]}),Object(M.jsx)(_e,{}),Object(M.jsxs)(Ue,{children:[Object(M.jsx)(De.a,{alt:"Select time",title:"Time",height:96,src:He}),Object(M.jsx)(i.Text,{size:"lg",color:"placeHolder",strong:!0,center:!0,children:"Select time"}),Object(M.jsx)(i.Text,{size:"lg",color:"placeHolder",center:!0,children:"You can choose to set a one-time spending limit or to have it automatically refill after a defined time-period"})]})]})},Qe=Object(s.default)(i.Text)(te||(te=Object(r.a)(["\n  margin-top: 16px;\n"])));t.default=function(){var e,t=Object(A.a)(),n=Object(o.e)(j.b),r=Object(o.e)(b.h),s=null===(e=r)||void 0===e?void 0:e.map((function(e){var t;return t={},Object(z.a)(t,G,e.delegate),Object(z.a)(t,V,{spent:e.spent,amount:e.amount,tokenAddress:e.token}),Object(z.a)(t,H,{relativeTime:Object(D.f)(e.lastResetMin,e.resetTimeMin),lastResetMin:e.lastResetMin,resetTimeMin:e.resetTimeMin}),t})),f=Object(c.useState)(!1),m=Object(a.a)(f,2),O=m[0],p=m[1];return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(l.a,{className:t.container,grow:"grow",children:[Object(M.jsx)(i.Title,{size:"xs",withoutMargin:!0,children:"Spending limit"}),Object(M.jsx)(Qe,{size:"lg",children:"You can set rules for specific beneficiaries to access funds from this Safe without having to collect all signatures."}),(null===s||void 0===s?void 0:s.length)?Object(M.jsx)(ie,{data:s}):Object(M.jsx)(qe,{})]}),n&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(u.a,{align:"end",className:t.buttonRow,grow:!0,children:Object(M.jsx)(d.a,{end:"xs",children:Object(M.jsx)(i.Button,{className:t.actionButton,color:"primary",size:"md","data-testid":"new-spending-limit-button",onClick:function(){p(!0)},variant:"contained",children:"New spending limit"})})}),O&&Object(M.jsx)(Fe,{close:function(){p(!1)},open:!0})]})]})}}}]);
//# sourceMappingURL=41.e954ec55.chunk.js.map
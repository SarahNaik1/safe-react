(this["webpackJsonpsafe-react"]=this["webpackJsonpsafe-react"]||[]).push([[58],{1471:function(t,e,n){"use strict";n.r(e);var a=n(41),r=n(0),c=n(412),i=n(39),o=n(20),s=n(294),u=n(148),d=n(127),l=n(171),f=n(128),b=n(85),j=n(109),x=n(156),h=n(62),m=n(354),O=n(1621),g=n(1533),v=n(562),p=n(1559),y=n(338),A=n(561),S=n(21),C=n(1526),E=n(2),k=Object(c.a)(O.a);e.default=function(t){var e,n,c,O=t.onClose,M=t.onPrev,w=t.tx,N=Object(o.i)(w.contractAddress),T=k(),D=Object(i.d)(),F=Object(S.l)(),P=Object(o.n)(),G=Object(i.e)((function(t){return Object(y.a)(t,{address:w.contractAddress})})),R=Object(r.useState)({txData:"",txAmount:"",txRecipient:""}),B=Object(a.a)(R,2),V=B[0],z=B[1];Object(r.useEffect)((function(){z({txRecipient:w.contractAddress,txAmount:w.value?Object(s.c)(w.value,P.decimals):"0",txData:w.data?w.data.trim():""})}),[w.contractAddress,w.value,w.data,F,P.decimals]);return Object(E.jsxs)(C.a,{txData:null===V||void 0===V?void 0:V.txData,txValue:null===V||void 0===V?void 0:V.txAmount,txTo:null===V||void 0===V?void 0:V.txRecipient,onSubmit:function(t,e){F&&V?D(Object(v.c)({safeAddress:F,to:null===V||void 0===V?void 0:V.txRecipient,valueInWei:null===V||void 0===V?void 0:V.txAmount,txData:null===V||void 0===V?void 0:V.txData,txNonce:t.safeNonce,safeTxGas:t.safeTxGas,ethParameters:t,notifiedTransaction:h.a.STANDARD_TX,delayExecution:e})):console.error("There was an error trying to submit the transaction, the safeAddress was not found"),O()},onBack:M,children:[Object(E.jsx)(A.a,{onClose:O,subTitle:"2 of 2",title:"Contract interaction"}),Object(E.jsx)(l.a,{}),Object(E.jsxs)(u.a,{className:T.formContainer,children:[Object(E.jsx)(j.a,{margin:"xs",children:Object(E.jsx)(b.a,{color:"disabled",noMargin:!0,size:"md",style:{letterSpacing:"-0.5px"},children:"Contract Address"})}),Object(E.jsx)(j.a,{align:"center",margin:"md",children:Object(E.jsx)(x.a,{hash:w.contractAddress,name:G,showAvatar:!0,showCopyBtn:!0,explorerUrl:N})}),Object(E.jsx)(j.a,{margin:"xs",children:Object(E.jsx)(b.a,{color:"disabled",noMargin:!0,size:"md",style:{letterSpacing:"-0.5px"},children:"Value"})}),Object(E.jsxs)(j.a,{align:"center",margin:"md",children:[Object(E.jsx)(d.a,{xs:1,children:Object(E.jsx)(f.a,{alt:"Ether",height:28,onError:g.a,src:Object(m.b)("0").logoUri||""})}),Object(E.jsx)(d.a,{layout:"column",xs:11,children:Object(E.jsx)(u.a,{justify:"left",children:Object(E.jsxs)(b.a,{className:T.value,noMargin:!0,size:"md",style:{margin:0},children:[w.value||0," "+P.symbol]})})})]}),Object(E.jsx)(j.a,{margin:"xs",children:Object(E.jsx)(b.a,{color:"disabled",noMargin:!0,size:"md",style:{letterSpacing:"-0.5px"},children:"Method"})}),Object(E.jsx)(j.a,{align:"center",margin:"md",children:Object(E.jsx)(b.a,{className:T.value,size:"md",style:{margin:0},children:null===(e=w.selectedMethod)||void 0===e?void 0:e.name})}),null===(n=w.selectedMethod)||void 0===n||null===(c=n.inputs)||void 0===c?void 0:c.map((function(t,e){var n,a=t.name,c=t.type,i=Object(p.e)(c,(null===(n=w.selectedMethod)||void 0===n?void 0:n.signatureHash)||"",e),o=Object(p.f)(i,c,w);return Object(E.jsxs)(r.Fragment,{children:[Object(E.jsx)(j.a,{margin:"xs",children:Object(E.jsxs)(b.a,{color:"disabled",noMargin:!0,size:"md",style:{letterSpacing:"-0.5px"},children:[a," (",c,")"]})}),Object(E.jsx)(j.a,{align:"center",margin:"md",children:Object(E.jsx)(b.a,{className:T.value,noMargin:!0,size:"md",style:{margin:0},children:o})})]},i)})),Object(E.jsx)(j.a,{margin:"xs",children:Object(E.jsx)(b.a,{color:"disabled",noMargin:!0,size:"md",style:{letterSpacing:"-0.5px"},children:"Data (hex encoded)"})}),Object(E.jsx)(j.a,{align:"center",margin:"md",children:Object(E.jsx)(d.a,{className:T.outerData,children:Object(E.jsx)(j.a,{className:T.data,size:"md",children:w.data})})})]})]})}},1526:function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var a,r=n(41),c=n(27),i=n(0),o=n(25),s=n(1545),u=n(1563),d=n(21),l=n(1564),f=n(1567),b=n(1568),j=n(23),x=n(337),h=n(13),m=n(1558),O=n(1535),g=n(1551),v=n(2),p=o.default.div(a||(a=Object(c.a)(["\n  padding: 0 "," ",";\n"])),h.lg,h.md),y=function(t){var e=t.children,n=t.operation,a=t.txData,c=t.txValue,o=void 0===c?"0":c,h=t.txTo,y=t.txType,A=t.onSubmit,S=t.onBack,C=t.submitText,E=t.isConfirmDisabled,k=Object(i.useState)("0"),M=Object(r.a)(k,2),w=M[0],N=M[1],T=Object(i.useState)(),D=Object(r.a)(T,2),F=D[0],P=D[1],G=Object(i.useState)(),R=Object(r.a)(G,2),B=R[0],V=R[1],z=Object(i.useState)(),I=Object(r.a)(z,2),L=I[0],H=I[1],_=Object(i.useState)(),J=Object(r.a)(_,2),q=J[0],U=J[1],W=Object(i.useState)(!0),X=Object(r.a)(W,2),Y=X[0],$=X[1],K=Object(d.l)(),Q=Object(O.e)(y),Z=Object(s.b)({txData:a,txRecipient:h||K,txType:y,txAmount:o,safeTxGas:w,manualGasPrice:F,manualMaxPrioFee:B,manualGasLimit:L,manualSafeNonce:q,operation:n}),tt=Z.gasCostFormatted,et=Z.gasPriceFormatted,nt=Z.gasMaxPrioFeeFormatted,at=Z.gasLimit,rt=Z.gasEstimation,ct=Z.txEstimationExecutionStatus,it=Z.isCreation,ot=Z.isOffChainSignature,st=Object(b.a)(ct),ut=Object(r.a)(st,2),dt=ut[0],lt=ut[1],ft=Object(g.a)(void 0,q),bt=Y&&ft,jt=function(t){var e=et,n=t.ethGasPrice,a=at,r=t.ethGasLimit,c=nt,i=t.ethMaxPrioFee,o=rt,s=t.safeTxGas,u=t.safeNonce;if(e!==n&&P(n),c!==i&&V(i),a!==r&&H(r),s&&o!==s&&N(s),u){var d=parseInt(u,10);U(d)}};return Object(v.jsx)(u.a,{isOffChainSignature:ot,isExecution:bt,ethGasLimit:at,ethGasPrice:et,ethMaxPrioFee:nt,safeTxGas:rt,closeEditModalCallback:jt,children:function(t,n){return Object(v.jsxs)(v.Fragment,{children:[e,Object(v.jsxs)(p,{children:[!Q&&ft&&Object(v.jsx)(f.a,{onChange:$}),!Q&&Object(v.jsx)(m.a,{txParameters:t,onEdit:n,isTransactionCreation:it,isTransactionExecution:bt,isOffChainSignature:ot})]}),!Q&&Object(v.jsx)(l.a,{gasCostFormatted:tt,isCreation:it,isExecution:bt,safeNonce:t.safeNonce,txEstimationExecutionStatus:ct}),Object(v.jsx)(x.b.Footer,{withoutBorder:!Q&&dt!==x.a.LOADING,children:Object(v.jsx)(x.b.Footer.Buttons,{cancelButtonProps:{onClick:S||jt,text:"Back"},confirmButtonProps:{onClick:function(){return function(t){if(lt(x.a.LOADING),!K)return lt(x.a.READY),void Object(j.c)(j.b._802);A(t,!bt)}(t)},status:dt,disabled:E,text:ct===s.a.LOADING?"Estimating":C,testId:"submit-tx-btn"}})})]})}})}},1533:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n(1536),r=function(t){var e=t.currentTarget;/token_placeholder/.test(e.src)||(e.src=a.a)};n(456)},1536:function(t,e,n){"use strict";e.a=n.p+"static/media/token_placeholder.c1abe466.svg"},1559:function(t,e,n){"use strict";n.d(e,"a",(function(){return b})),n.d(e,"c",(function(){return j})),n.d(e,"d",(function(){return x})),n.d(e,"h",(function(){return h})),n.d(e,"j",(function(){return m})),n.d(e,"n",(function(){return O})),n.d(e,"l",(function(){return g})),n.d(e,"k",(function(){return v})),n.d(e,"i",(function(){return p})),n.d(e,"g",(function(){return y})),n.d(e,"e",(function(){return A})),n.d(e,"b",(function(){return C})),n.d(e,"m",(function(){return E})),n.d(e,"f",(function(){return k}));var a=n(89),r=n(17),c=n(1),i=n.n(c),o=n(16),s=n(1587),u=n(1599),d=n(32),l=n(44),f=n(80),b="no contract",j=Object(u.a)({field:"contractAddress",updates:{contractAddress:function(){var t=Object(o.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,t.t0=Object(l.e)(e)||Object(l.d)(e),!t.t0){t.next=6;break}return t.next=5,Object(d.c)(e);case 5:t.t0=t.sent;case 6:if(!(n=t.t0)){t.next=9;break}return t.abrupt("return",n);case 9:return t.abrupt("return",e);case 12:return t.prev=12,t.t1=t.catch(0),console.error(t.t1.message),t.abrupt("return",e);case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}}),x={setMax:function(t,e,n){n.changeValue(e,"value",(function(){return t[0]}))},setContractAddress:function(t,e,n){n.changeValue(e,"contractAddress",(function(){return t[0]}))},setSelectedMethod:function(t,e,n){var a;(null===(a=e.lastFormState)||void 0===a?void 0:a.values.selectedMethod)&&e.lastFormState.values.selectedMethod.name!==t[0].name&&(n.changeValue(e,"callResults",(function(){return""})),n.changeValue(e,"value",(function(){return""}))),n.changeValue(e,"selectedMethod",(function(){return t[0]}))},setCallResults:function(t,e,n){n.changeValue(e,"callResults",(function(){return t[0]}))},setAbiValue:function(t,e,n){n.changeValue(e,"abi",(function(){return t[0]}))}},h=function(t){return 0===t.indexOf("address")},m=function(t){return 0===t.indexOf("bool")},O=function(t){return 0===t.indexOf("uint")},g=function(t){return 0===t.indexOf("int")},v=function(t){return 0===t.indexOf("byte")},p=function(t){return/(\[\d*])+$/.test(t)},y=function(t,e){for(var n in e)if(e.hasOwnProperty(n)&&void 0!==t&&e[n]===t.value)return Object(r.a)({},n,t.reason);return Object(r.a)({},s.a,t?t.message:void 0)},A=function(t,e,n){var a=p(t)?"arrayParam":t;return"methodInput-".concat(e,"_").concat(n,"_").concat(a)},S=function(t,e){return function(n,a){var r=n.type,c=A(r,t,a);return function(t){try{return JSON.parse(t).map((function(t){return Number.isInteger(t)?new f.BigNumber(t).toString():t}))}catch(e){return null}}(e[c])||e[c]}},C=function(t,e,n){var r,c=new(Object(d.i)().eth.Contract)([t],e),i=t.inputs,o=t.name,s=void 0===o?"":o,u=t.signatureHash,l=(null===i||void 0===i?void 0:i.map(S(u,n)))||[];return(r=c.methods)[s].apply(r,Object(a.a)(l))},E=function(t){return t&&"read"===t.action},k=function(t,e,n){p(e)&&(t=t.replace("[]",""));var a=n[t];return"bool"===e&&(a=String(a)),a}},1599:function(t,e,n){"use strict";var a=n(1587),r=function(t){return!!t&&("object"===typeof t||"function"===typeof t)&&"function"===typeof t.then},c=function(t,e){return t===e};e.a=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){var n={};return t.subscribe((function(i){var o=i.values;t.batch((function(){var i=function(e,c,i){var s=o&&Object(a.e)(o,e),u=n&&Object(a.e)(n,e);if(!c(s,u))if("function"===typeof i){var d=i(s,e,o,n);r(d)?d.then((function(e){Object.keys(e).forEach((function(n){t.change(n,e[n])}))})):Object.keys(d).forEach((function(e){t.change(e,d[e])}))}else Object.keys(i).forEach((function(e){var a=(0,i[e])(s,o,n);r(a)?a.then((function(n){t.change(e,n)})):t.change(e,a)}))},s=t.getRegisteredFields();e.forEach((function(t){var e=t.field,n=t.isEqual,a=t.updates;if("string"===typeof e)i(e,n||c,a);else{var r=Array.isArray(e)?function(t){return~e.indexOf(t)||-1!==e.findIndex((function(e){return e instanceof RegExp&&e.test(t)}))}:function(t){return e.test(t)};s.forEach((function(t){r(t)&&i(t,n||c,a)}))}})),n=o}))}),{values:!0})}}},1621:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n(13),r=n(539),c=Object(r.a)({qrCodeBtn:{cursor:"pointer"},formContainer:{padding:"".concat(a.md," ").concat(a.lg),wordBreak:"break-word"},value:{marginLeft:a.sm},outerData:{borderRadius:"5px",border:"1px solid ".concat(a.border),padding:"11px",minHeight:"21px"},data:{wordBreak:"break-all",overflow:"auto",fontSize:"14px",fontFamily:"Averta",maxHeight:"100px",letterSpacing:"normal",fontStretch:"normal",lineHeight:"1.43"},buttonRow:{height:"84px",justifyContent:"center",gap:"16px"},dataInput:{"& TextField-root-294":{lineHeight:"auto",border:"green"}},selectAddress:{cursor:"pointer"},fullWidth:{justifyContent:"space-between"}})}}]);
//# sourceMappingURL=58.39237a5f.chunk.js.map
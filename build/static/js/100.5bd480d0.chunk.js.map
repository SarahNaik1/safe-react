{"version":3,"sources":["routes/safe/components/Balances/index.tsx"],"names":["SECTION_NAME","Collectibles","lazy","Coins","MANAGE_TOKENS_BUTTON_TEST_ID","BALANCE_ROW_TEST_ID","Balances","useSelector","currentSafeWithNames","safeAddress","address","featuresEnabled","safeName","name","erc721Enabled","includes","FEATURES","ERC721","useState","showReceive","setShowReceive","sentToken","setSentToken","matchSafeWithBalancesSection","useRouteMatch","SAFE_SUBSECTION_ROUTE","currentSafeRoutes","generatePrefixedAddressRoutes","shortName","getShortName","balancesSection","url","ASSETS_BALANCES","coins","ASSETS_BALANCES_COLLECTIBLES","collectibles","openReceive","closeReceive","start","sm","xs","iconType","text","color","end","path","SAFE_ROUTES","exact","render","wrapInSuspense","showReceiveFunds","showSendFunds","activeScreenType","isOpen","onClose","selectedToken","description","handleClose","open","paperClassName","title"],"mappings":"+OAsBKA,E,2HANCC,EAAeC,gBAAK,kBAAM,mCAC1BC,EAAQD,gBAAK,kBAAM,mCAEZE,EAA+B,oBAC/BC,EAAsB,e,SAE9BL,K,cAAAA,E,6BAAAA,M,KAgFUM,UA3EE,WACf,MAAkEC,YAAYC,KAA7DC,EAAjB,EAAQC,QAAsBC,EAA9B,EAA8BA,gBAAuBC,EAArD,EAA+CC,KACzCC,EAAa,OAAGH,QAAH,IAAGA,OAAH,EAAGA,EAAiBI,SAASC,WAASC,QACzD,EAAsCC,oBAAkB,GAAxD,mBAAOC,EAAP,KAAoBC,EAApB,KACA,EAAkCF,mBAAiB,IAAnD,mBAAOG,EAAP,KAAkBC,EAAlB,KAGMC,EAA+BC,YAAc,GAAD,OAAIC,IAAJ,MAE5CC,EAAoBC,YAA8B,CACtDC,UAAWC,cACXpB,gBAGEqB,EAAqC,GACzC,cAAQP,QAAR,IAAQA,OAAR,EAAQA,EAA8BQ,KACpC,KAAKL,EAAkBM,gBACrBF,EAAkB9B,EAAaiC,MAC/B,MACF,KAAKP,EAAkBQ,6BACrBJ,EAAkB9B,EAAamC,aAInC,IAAMC,EAAc,kBAAMhB,GAAe,IACnCiB,EAAe,kBAAMjB,GAAe,IAG1C,OACE,qCAEE,eAAC,OAAD,WACE,cAAC,IAAD,CAAKkB,MAAM,KAAKC,GAAI,EAAGC,GAAI,GAA3B,SACE,eAAC,aAAD,WACE,cAAC,oBAAD,CAAmBC,SAAS,SAASC,KAAK,SAASC,MAAM,YACzD,cAAC,oBAAD,CAAmBD,KAAMZ,EAAiBa,MAAM,qBAIpD,cAAC,IAAD,CAAKC,IAAI,KAAKL,GAAI,EAAGC,GAAI,QAM3B,eAAC,IAAD,WACE,cAAC,IAAD,CACEK,KAAMC,IAAYZ,6BAClBa,OAAK,EACLC,OAAQ,kBAAOlC,EAAgBmC,YAAe,cAAChD,EAAD,KAAoB,QAEpE,cAAC,IAAD,CACE4C,KAAMC,IAAYd,gBAClBe,OAAK,EACLC,OAAQ,kBAAMC,YAAe,cAAC9C,EAAD,CAAO+C,iBAAkBd,EAAae,cAAe7B,WAKtF,cAAC,IAAD,CAAW8B,iBAAiB,YAAYC,SAAUhC,EAAWiC,QAjC1C,kBAAMhC,EAAa,KAiCgDiC,cAAelC,IAGrG,cAAC,IAAD,CACEmC,YAAY,sBACZC,YAAapB,EACbqB,KAAMvC,EACNwC,eAAe,gBACfC,MAAM,iBALR,SAOE,cAAC,IAAD,CAAcnD,YAAaA,EAAaG,SAAUA,EAAU0C,QAASjB","file":"static/js/100.5bd480d0.chunk.js","sourcesContent":["import { Breadcrumb, BreadcrumbElement, Menu } from '@gnosis.pm/safe-react-components'\nimport { ReactElement, useState, lazy } from 'react'\nimport { useSelector } from 'react-redux'\nimport { Route, Switch, useRouteMatch } from 'react-router-dom'\n\nimport Col from 'src/components/layout/Col'\nimport Modal from 'src/components/Modal'\nimport ReceiveModal from 'src/components/App/ReceiveModal'\nimport SendModal from 'src/routes/safe/components/Balances/SendModal'\nimport { CurrencyDropdown } from 'src/routes/safe/components/CurrencyDropdown'\nimport { currentSafeWithNames } from 'src/logic/safe/store/selectors'\nimport { wrapInSuspense } from 'src/utils/wrapInSuspense'\nimport { generatePrefixedAddressRoutes, SAFE_ROUTES, SAFE_SUBSECTION_ROUTE } from 'src/routes/routes'\nimport { getShortName } from 'src/config'\nimport { FEATURES } from '@gnosis.pm/safe-react-gateway-sdk'\n\nconst Collectibles = lazy(() => import('src/routes/safe/components/Balances/Collectibles'))\nconst Coins = lazy(() => import('src/routes/safe/components/Balances/Coins'))\n\nexport const MANAGE_TOKENS_BUTTON_TEST_ID = 'manage-tokens-btn'\nexport const BALANCE_ROW_TEST_ID = 'balance-row'\n\nenum SECTION_NAME {\n  coins = 'Coins',\n  collectibles = 'Collectibles',\n}\n\nconst Balances = (): ReactElement => {\n  const { address: safeAddress, featuresEnabled, name: safeName } = useSelector(currentSafeWithNames)\n  const erc721Enabled = featuresEnabled?.includes(FEATURES.ERC721)\n  const [showReceive, setShowReceive] = useState<boolean>(false)\n  const [sentToken, setSentToken] = useState<string>('')\n\n  // Question mark makes matching [SAFE_SUBSECTION_SLUG] optional\n  const matchSafeWithBalancesSection = useRouteMatch(`${SAFE_SUBSECTION_ROUTE}?`)\n\n  const currentSafeRoutes = generatePrefixedAddressRoutes({\n    shortName: getShortName(),\n    safeAddress,\n  })\n\n  let balancesSection: SECTION_NAME | '' = ''\n  switch (matchSafeWithBalancesSection?.url) {\n    case currentSafeRoutes.ASSETS_BALANCES:\n      balancesSection = SECTION_NAME.coins\n      break\n    case currentSafeRoutes.ASSETS_BALANCES_COLLECTIBLES:\n      balancesSection = SECTION_NAME.collectibles\n      break\n  }\n\n  const openReceive = () => setShowReceive(true)\n  const closeReceive = () => setShowReceive(false)\n  const closeSendFunds = () => setSentToken('')\n\n  return (\n    <>\n      {/* Breadcrumbs & Currency Selector */}\n      <Menu>\n        <Col start=\"sm\" sm={6} xs={12}>\n          <Breadcrumb>\n            <BreadcrumbElement iconType=\"assets\" text=\"ASSETS\" color=\"primary\" />\n            <BreadcrumbElement text={balancesSection} color=\"placeHolder\" />\n          </Breadcrumb>\n        </Col>\n\n        <Col end=\"sm\" sm={6} xs={12}>\n          {/* {balancesSection === SECTION_NAME.coins && <CurrencyDropdown testId={'balances-currency-dropdown'} />} */}\n        </Col>\n      </Menu>\n\n      {/* Coins & Collectibles sub-router */}\n      <Switch>\n        <Route\n          path={SAFE_ROUTES.ASSETS_BALANCES_COLLECTIBLES}\n          exact\n          render={() => (erc721Enabled ? wrapInSuspense(<Collectibles />) : null)}\n        />\n        <Route\n          path={SAFE_ROUTES.ASSETS_BALANCES}\n          exact\n          render={() => wrapInSuspense(<Coins showReceiveFunds={openReceive} showSendFunds={setSentToken} />)}\n        />\n      </Switch>\n\n      {/* Send Funds modal */}\n      <SendModal activeScreenType=\"sendFunds\" isOpen={!!sentToken} onClose={closeSendFunds} selectedToken={sentToken} />\n\n      {/* Receive Tokens modal */}\n      <Modal\n        description=\"Receive Tokens Form\"\n        handleClose={closeReceive}\n        open={showReceive}\n        paperClassName=\"receive-modal\"\n        title=\"Receive Tokens\"\n      >\n        <ReceiveModal safeAddress={safeAddress} safeName={safeName} onClose={closeReceive} />\n      </Modal>\n    </>\n  )\n}\n\nexport default Balances\n"],"sourceRoot":""}
(this["webpackJsonpsafe-react"]=this["webpackJsonpsafe-react"]||[]).push([[47],{1526:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a,r=n(41),c=n(27),o=n(0),s=n(25),i=n(1545),d=n(1563),l=n(21),j=n(1564),b=n(1567),u=n(1568),O=n(23),h=n(337),m=n(13),x=n(1558),g=n(1535),f=n(1551),p=n(2),w=s.default.div(a||(a=Object(c.a)(["\n  padding: 0 "," ",";\n"])),m.lg,m.md),v=function(e){var t=e.children,n=e.operation,a=e.txData,c=e.txValue,s=void 0===c?"0":c,m=e.txTo,v=e.txType,C=e.onSubmit,N=e.onBack,y=e.submitText,S=e.isConfirmDisabled,P=Object(o.useState)("0"),k=Object(r.a)(P,2),R=k[0],T=k[1],A=Object(o.useState)(),_=Object(r.a)(A,2),E=_[0],B=_[1],I=Object(o.useState)(),M=Object(r.a)(I,2),F=M[0],z=M[1],D=Object(o.useState)(),G=Object(r.a)(D,2),H=G[0],L=G[1],V=Object(o.useState)(),W=Object(r.a)(V,2),q=W[0],U=W[1],X=Object(o.useState)(!0),Q=Object(r.a)(X,2),Z=Q[0],Y=Q[1],J=Object(l.l)(),K=Object(g.e)(v),$=Object(i.b)({txData:a,txRecipient:m||J,txType:v,txAmount:s,safeTxGas:R,manualGasPrice:E,manualMaxPrioFee:F,manualGasLimit:H,manualSafeNonce:q,operation:n}),ee=$.gasCostFormatted,te=$.gasPriceFormatted,ne=$.gasMaxPrioFeeFormatted,ae=$.gasLimit,re=$.gasEstimation,ce=$.txEstimationExecutionStatus,oe=$.isCreation,se=$.isOffChainSignature,ie=Object(u.a)(ce),de=Object(r.a)(ie,2),le=de[0],je=de[1],be=Object(f.a)(void 0,q),ue=Z&&be,Oe=function(e){var t=te,n=e.ethGasPrice,a=ae,r=e.ethGasLimit,c=ne,o=e.ethMaxPrioFee,s=re,i=e.safeTxGas,d=e.safeNonce;if(t!==n&&B(n),c!==o&&z(o),a!==r&&L(r),i&&s!==i&&T(i),d){var l=parseInt(d,10);U(l)}};return Object(p.jsx)(d.a,{isOffChainSignature:se,isExecution:ue,ethGasLimit:ae,ethGasPrice:te,ethMaxPrioFee:ne,safeTxGas:re,closeEditModalCallback:Oe,children:function(e,n){return Object(p.jsxs)(p.Fragment,{children:[t,Object(p.jsxs)(w,{children:[!K&&be&&Object(p.jsx)(b.a,{onChange:Y}),!K&&Object(p.jsx)(x.a,{txParameters:e,onEdit:n,isTransactionCreation:oe,isTransactionExecution:ue,isOffChainSignature:se})]}),!K&&Object(p.jsx)(j.a,{gasCostFormatted:ee,isCreation:oe,isExecution:ue,safeNonce:e.safeNonce,txEstimationExecutionStatus:ce}),Object(p.jsx)(h.b.Footer,{withoutBorder:!K&&le!==h.a.LOADING,children:Object(p.jsx)(h.b.Footer.Buttons,{cancelButtonProps:{onClick:N||Oe,text:"Back"},confirmButtonProps:{onClick:function(){return function(e){if(je(h.a.LOADING),!J)return je(h.a.READY),void Object(O.c)(O.b._802);C(e,!ue)}(e)},status:le,disabled:S,text:ce===i.a.LOADING?"Estimating":y,testId:"submit-tx-btn"}})})]})}})}},1542:function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var a=n(41),r=n(412),c=n(0),o=n.p+"static/media/qrcode.fec1b6d8.svg",s=n(421),i=n(340),d=n.n(i),l=n(1576),j=n.n(l),b=n(13),u=n(539),O=Object(u.a)({heading:{padding:b.lg,justifyContent:"space-between",maxHeight:"75px",boxSizing:"border-box"},loaderContainer:{width:"100%",height:"100%"},close:{height:"25px",width:"25px",color:b.secondaryText},detailsContainer:{backgroundColor:b.background,maxHeight:"450px"},buttonRow:{height:"84px",justifyContent:"center"},button:{"&:last-child":{marginLeft:b.sm}}}),h=n(337),m=n(148),x=n(293),g=n(127),f=n(171),p=n(85),w=n(109),v=n(2),C=Object(r.a)(O),N=function(e){var t=e.isOpen,n=e.onClose,r=e.onScan,o=C(),i=Object(c.useState)(!1),l=Object(a.a)(i,2),b=l[0],u=l[1],O=Object(c.useState)(null),N=Object(a.a)(O,2),y=N[0],S=N[1],P=Object(c.useState)(!1),k=Object(a.a)(P,2),R=k[0],T=k[1],A=c.createRef(),_=c.useCallback((function(){A.current.openImageDialog()}),[A]);Object(c.useEffect)((function(){b||!R||y||(u(!0),_())}),[R,_,b,u,y]);var E=function(e,t){if(e)return console.error("QR code error",e),void("NotAllowedError"===e.name||"PermissionDismissedError"===e.name?(T(!0),u(!1)):S("The QR could not be read"));t?r(t):R&&S("The QR could not be read")};return Object(v.jsxs)(h.c,{description:"Receive Tokens Form",handleClose:n,open:t,title:"Receive Tokens",children:[Object(v.jsxs)(w.a,{align:"center",className:o.heading,grow:!0,children:[Object(v.jsx)(p.a,{noMargin:!0,size:"xl",children:"Scan QR"}),Object(v.jsx)(s.a,{disableRipple:!0,onClick:n,children:Object(v.jsx)(d.a,{className:o.close})})]}),Object(v.jsx)(f.a,{}),Object(v.jsxs)(g.a,{className:o.detailsContainer,layout:"column",middle:"xs",children:[y&&Object(v.jsx)(m.a,{padding:"md",margin:"md",children:y}),Object(v.jsx)(j.a,{legacyMode:R,onError:function(e){return E(e,null)},onScan:function(e){return E(null,e)},ref:A,style:{width:"400px",height:"400px"},facingMode:"user"})]}),Object(v.jsx)(f.a,{}),Object(v.jsxs)(w.a,{align:"center",className:o.buttonRow,children:[Object(v.jsx)(x.a,{className:o.button,color:"secondary",minWidth:154,onClick:n,children:"Close"}),Object(v.jsx)(x.a,{className:o.button,color:"primary",minWidth:154,onClick:function(){T(!0),S(null),u(!1)},variant:"contained",children:"Upload an image"})]})]})},y=n(128),S=Object(r.a)({qrCodeBtn:{cursor:"pointer"}}),P=function(e){var t=e.handleScan,n=e.testId,r=S(),s=Object(c.useState)(!1),i=Object(a.a)(s,2),d=i[0],l=i[1],j=function(){l(!1)};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(y.a,{alt:"Scan QR",className:r.qrCodeBtn,height:20,onClick:function(){l(!0)},role:"button",src:o,testId:n||"qr-icon"}),d&&Object(v.jsx)(N,{isOpen:d,onClose:j,onScan:function(e){t(e,j)}})]})}},1550:function(e,t,n){"use strict";var a=n(10),r=n(60),c=n(540),o=n(541),s=n(1425),i=n(546),d=n(2),l=["name","onChange","value"],j=["classes","disableError","formControlProps","input","label","meta","renderValue"],b={minWidth:"100%"};t.a=function(e){var t=e.classes,n=e.disableError,u=e.formControlProps,O=e.input,h=O.name,m=O.onChange,x=O.value,g=Object(r.a)(O,l),f=e.label,p=e.meta,w=e.renderValue,v=Object(r.a)(e,j),C=(p.submitError&&!p.dirtySinceLastSubmit||p.error)&&p.touched&&!n,N=Object(a.a)(Object(a.a)({},g),{},{name:h});return Object(d.jsxs)(c.a,Object(a.a)(Object(a.a)({},u),{},{error:C,style:b,children:[Object(d.jsx)(s.a,{htmlFor:h,children:f}),Object(d.jsx)(i.a,Object(a.a)({classes:t,inputProps:N,onChange:m,renderValue:w,value:x},v)),C&&Object(d.jsx)(o.a,{children:p.error||p.submitError})]}))}},1560:function(e,t,n){"use strict";var a=n(10),r=n(60),c=n(158),o=n.n(c),s=n(0),i=n(1569),d=n.n(i),l=n(75),j=["align","children","className","color","margin","tag","testId","truncate"],b=o.a.bind(d.a);t.a=function(e){var t=e.align,n=e.children,c=e.className,o=void 0===c?"":c,i=e.color,d=e.margin,u=e.tag,O=e.testId,h=e.truncate,m=Object(r.a)(e,j),x=b(o,"heading",t,u,d?Object(l.a)(d,"margin"):void 0,i,{truncate:h});return s.createElement(u,Object(a.a)(Object(a.a)({},m),{},{className:x,"data-testid":O||""}),n)}},1562:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(7),r=n(9),c=n(11),o=n(12),s=n(581),i=n(584),d=n(582),l=n(771),j=n(0),b=n(2),u=function(e){if(e)return{maxWidth:"".concat(e,"px")}},O=function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).changeSort=function(t,n){return function(){(0,e.props.onSort)(t,n)}},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.columns,a=t.order,r=t.orderBy;return Object(b.jsx)(i.a,{children:Object(b.jsx)(d.a,{children:n.map((function(t){return Object(b.jsx)(s.a,{align:t.align,padding:t.disablePadding?"none":"normal",sortDirection:r===t.id&&a,children:t.static?Object(b.jsx)("div",{style:t.style,children:t.label}):Object(b.jsx)(l.a,{active:r===t.id,direction:a,onClick:e.changeSort(t.id,t.order),style:t.style,children:t.label})},t.id)}))})})}}]),n}(j.PureComponent);t.b=O},1569:function(e,t,n){e.exports={heading:"Heading_heading__3Wz9P",h1:"Heading_h1__MXfCA",h2:"Heading_h2__3X6Ts",h3:"Heading_h3__1k2fD",h4:"Heading_h4__1YCmR",center:"Heading_center__28MHY",right:"Heading_right__1fQM1",truncate:"Heading_truncate__2Lq93",marginSm:"Heading_marginSm__13YwX",marginMd:"Heading_marginMd__2AnZN",marginLg:"Heading_marginLg__2ZfEq",marginXl:"Heading_marginXl__3RHt7",soft:"Heading_soft__2Zu43",medium:"Heading_medium__2X8Z-",dark:"Heading_dark__Ds2QB",fancy:"Heading_fancy__1Wx6l",warning:"Heading_warning__2lrZC",primary:"Heading_primary__2hOk2",secondary:"Heading_secondary__37lKs",disabled:"Heading_disabled__30DjG",error:"Heading_error__t5ujr",white:"Heading_white__2gkIK"}},1577:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0),r=n(1513);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c.apply(this,arguments)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}a.Component,a.Component;var s=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={previous:t.input.value},n}o(t,e);var n=t.prototype;return n.componentDidUpdate=function(){var e=this.props,t=e.children,n=e.input.value,a=this.state.previous;n!==a&&(this.setState({previous:n}),t(n,a))},n.render=function(){return null},t}(a.Component),i=function(e){var t=e.name,n=e.children;return Object(a.createElement)(r.a,{name:t,subscription:{value:!0},allowNull:!0,render:function(e){return Object(a.createElement)(s,c({},e,{children:n}))}})};a.Component},1581:function(e,t,n){"use strict";var a=n(7),r=n(9),c=n(11),o=n(12),s=n(28),i=n(612),d=n(583),l=n(1717),j=n(18),b=n(0),u=n(1562),O=n(73),h=function(e,t,n,a,r){var c=a?"".concat(n,"Order"):n;return r(t[c])<r(e[c])?-1:r(t[c])>r(e[c])?1:0},m=n(109),x=n(13),g=n(2),f={root:{backgroundColor:"white",borderTopRightRadius:x.sm,borderTopLeftRadius:x.sm,boxShadow:"1px 2px 10px 0 rgba(212, 212, 211, 0.59)"},selectRoot:{lineHeight:x.xxl,backgroundColor:"white"},white:{backgroundColor:"white"},paginationRoot:{backgroundColor:"white",boxShadow:"1px 2px 10px 0 rgba(212, 212, 211, 0.59)",marginBottom:"90px",borderBottomRightRadius:x.sm,borderBottomLeftRadius:x.sm},loader:{boxShadow:"1px 2px 10px 0 rgba(212, 212, 211, 0.59)"}},p={"aria-label":"Previous Page"},w={"aria-label":"Next Page"},v=function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).onSort=function(e,t){var n=r.state,a=n.order,c=n.orderBy,o=r.props.defaultOrder,s="desc";a&&c===e&&"desc"===a?s="asc":a||"desc"!==o||(s="asc"),r.setState((function(){return{order:s,orderBy:e,orderProp:t,fixed:!1}}))},r.getEmptyStyle=function(){return{height:"calc(100vh - ".concat(255,"px)"),borderTopRightRadius:x.sm,borderTopLeftRadius:x.sm,backgroundColor:"white",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},r.handleChangePage=function(e,t){r.setState({page:t})},r.handleChangeRowsPerPage=function(e){var t=Number(e.target.value);r.setState({rowsPerPage:t})},r.state={page:0,order:void 0,orderBy:void 0,fixed:void 0,orderProp:!1,rowsPerPage:void 0},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.columns,n=e.defaultOrderBy;n&&t&&(t.find((function(e){return e.id===n})).order&&this.setState({orderProp:!0}))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.classes,a=e.columns,r=e.data,c=e.defaultFixed,o=e.defaultOrder,j=e.defaultOrderBy,b=e.defaultRowsPerPage,x=e.disableLoadingOnEmptyTable,f=e.disablePagination,v=e.label,C=e.noBorder,N=e.size,y=this.state,S=y.fixed,P=y.order,k=y.orderBy,R=y.orderProp,T=y.page,A=y.rowsPerPage,_=k||j,E=P||o,B=A||b,I="undefined"!==typeof S?S:!!c,M={selectRoot:n.selectRoot,root:!C&&n.paginationRoot,input:n.white},F=a.find((function(e){return e.id===_})),z=function(e,t,n){var a=n?e.filter((function(e){return e.fixed})):Object(O.a)([]),r=(n?e.filter((function(e){return!e.fixed})):e).map((function(e,t){return[e,t]})),c=(r=r.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]}))).map((function(e){return e[0]}));return a.concat(c)}(r,function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e};return"desc"===e?function(e,r){return h(e,r,t,n,a)}:function(e,r){return-h(e,r,t,n,a)}}(E,_,R,null===F||void 0===F?void 0:F.formatTypeSort),I);f||(z=z.slice(T*B,T*B+B));var D=0===N&&!x;return Object(g.jsxs)(g.Fragment,{children:[!D&&Object(g.jsxs)(i.a,{"aria-labelledby":v,className:C?"":n.root,children:[Object(g.jsx)(u.b,{columns:a,onSort:this.onSort,order:P,orderBy:_}),Object(g.jsx)(d.a,{children:t(z)})]}),D&&Object(g.jsx)(m.a,{className:n.loader,style:this.getEmptyStyle(),children:Object(g.jsx)(s.Loader,{size:"sm"})}),!f&&Object(g.jsx)(l.a,{backIconButtonProps:p,classes:M,component:"div",count:N,nextIconButtonProps:w,onPageChange:this.handleChangePage,onRowsPerPageChange:this.handleChangeRowsPerPage,page:T,rowsPerPage:B,rowsPerPageOptions:[5,10,25,50,100]})]})}}]),n}(b.Component);v.defaultProps={defaultOrder:"asc",disablePagination:!1,defaultRowsPerPage:5};t.a=Object(j.a)(f)(v)},1589:function(e,t,n){"use strict";var a=n(17),r=n(10),c=n(89),o=n(41),s=n(0),i=n(1513),d=n(1577),l=n(618),j=n(611),b=n(1523),u=n(560),O=n(157),h=n(32),m=n(44),x=n(64),g=n(23),f=n(190),p=n(2);t.a=function(e){var t=e.className,n=void 0===t?"":t,w=e.name,v=void 0===w?"recipientAddress":w,C=e.text,N=void 0===C?"Recipient*":C,y=e.placeholder,S=void 0===y?"Recipient*":y,P=e.fieldMutator,k=e.testId,R=e.inputAdornment,T=e.validators,A=void 0===T?[]:T,_=e.defaultValue,E=e.disabled,B=Object(s.useState)(""),I=Object(o.a)(B,2),M=I[0],F=I[1],z=Object(s.useState)({}),D=Object(o.a)(z,2),G=D[0],H=D[1],L=G[M],V=""===L,W=Object(s.useCallback)((function(e){var t=Object(f.b)(e);return u.d.apply(void 0,Object(c.a)(A))(t.address)}),[A]),q=Object(s.useMemo)((function(){return Object(u.d)(u.p,u.k,W)}),[W]),U=Object(s.useCallback)((function(e){var t=Object(O.c)(e);if(F(e),Object(m.e)(t)||Object(m.d)(t))H((function(t){return Object(r.a)(Object(r.a)({},t),{},Object(a.a)({},e,""))})),Object(h.c)(t).then((function(t){var n=Object(x.a)(t);H((function(t){return Object(r.a)(Object(r.a)({},t),{},Object(a.a)({},e,n))}))})).catch((function(t){H((function(t){return Object(r.a)(Object(r.a)({},t),{},Object(a.a)({},e,void 0))})),Object(g.c)(g.b._101,t.message)}));else if(!Object(u.k)(t)){var n=Object(f.b)(t),c=Object(x.a)(n.address)||n.address;P(c)}}),[F,H,P]);Object(s.useEffect)((function(){L&&U(L)}),[L,U]);var X=V?{endAdornment:Object(p.jsx)(l.a,{position:"end",children:Object(p.jsx)(j.a,{size:"16px"})})}:R;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(i.a,{className:n,component:b.a,defaultValue:_,disabled:E,inputAdornment:X,name:v,placeholder:S,text:N,spellCheck:!1,validate:q,inputProps:{"data-testid":k}}),Object(p.jsx)(d.a,{name:v,children:U})]})}},1717:function(e,t,n){"use strict";var a=n(4),r=n(14),c=n(0),o=(n(19),n(15)),s=n(18),i=n(811),d=n(609),l=n(546),j=n(581),b=n(50),u=c.forwardRef((function(e,t){var n=e.classes,s=e.className,i=e.component,d=void 0===i?"div":i,l=e.disableGutters,j=void 0!==l&&l,b=e.variant,u=void 0===b?"regular":b,O=Object(r.a)(e,["classes","className","component","disableGutters","variant"]);return c.createElement(d,Object(a.a)({className:Object(o.default)(n.root,n[u],s,!j&&n.gutters),ref:t},O))})),O=Object(s.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center"},gutters:Object(b.a)({paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),regular:e.mixins.toolbar,dense:{minHeight:48}}}),{name:"MuiToolbar"})(u),h=n(210),m=n(575),x=n(576),g=n(90),f=n(421),p=c.createElement(x.a,null),w=c.createElement(m.a,null),v=c.createElement(m.a,null),C=c.createElement(x.a,null),N=c.forwardRef((function(e,t){var n=e.backIconButtonProps,o=e.count,s=e.nextIconButtonProps,i=e.onChangePage,d=void 0===i?function(){}:i,l=e.onPageChange,j=void 0===l?function(){}:l,b=e.page,u=e.rowsPerPage,O=Object(r.a)(e,["backIconButtonProps","count","nextIconButtonProps","onChangePage","onPageChange","page","rowsPerPage"]),h=Object(g.a)();return c.createElement("div",Object(a.a)({ref:t},O),c.createElement(f.a,Object(a.a)({onClick:function(e){d(e,b-1),j(e,b-1)},disabled:0===b,color:"inherit"},n),"rtl"===h.direction?p:w),c.createElement(f.a,Object(a.a)({onClick:function(e){d(e,b+1),j(e,b+1)},disabled:-1!==o&&b>=Math.ceil(o/u)-1,color:"inherit"},s),"rtl"===h.direction?v:C))})),y=n(253),S=function(e){var t=e.from,n=e.to,a=e.count;return"".concat(t,"-").concat(n," of ").concat(-1!==a?a:"more than ".concat(n))},P=[10,25,50,100],k=c.forwardRef((function(e,t){var n,s=e.ActionsComponent,b=void 0===s?N:s,u=e.backIconButtonProps,m=e.backIconButtonText,x=void 0===m?"Previous page":m,g=e.classes,f=e.className,p=e.colSpan,w=e.component,v=void 0===w?j.a:w,C=e.count,k=e.labelDisplayedRows,R=void 0===k?S:k,T=e.labelRowsPerPage,A=void 0===T?"Rows per page:":T,_=e.nextIconButtonProps,E=e.nextIconButtonText,B=void 0===E?"Next page":E,I=e.onChangePage,M=e.onPageChange,F=e.onChangeRowsPerPage,z=e.onRowsPerPageChange,D=e.page,G=e.rowsPerPage,H=e.rowsPerPageOptions,L=void 0===H?P:H,V=e.SelectProps,W=void 0===V?{}:V,q=Object(r.a)(e,["ActionsComponent","backIconButtonProps","backIconButtonText","classes","className","colSpan","component","count","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","nextIconButtonText","onChangePage","onPageChange","onChangeRowsPerPage","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps"]),U=F||z;v!==j.a&&"td"!==v||(n=p||1e3);var X=Object(y.a)(),Q=Object(y.a)(),Z=W.native?"option":d.a;return c.createElement(v,Object(a.a)({className:Object(o.default)(g.root,f),colSpan:n,ref:t},q),c.createElement(O,{className:g.toolbar},c.createElement("div",{className:g.spacer}),L.length>1&&c.createElement(h.a,{color:"inherit",variant:"body2",className:g.caption,id:Q},A),L.length>1&&c.createElement(l.a,Object(a.a)({classes:{select:g.select,icon:g.selectIcon},input:c.createElement(i.a,{className:Object(o.default)(g.input,g.selectRoot)}),value:G,onChange:U,id:X,labelId:Q},W),L.map((function(e){return c.createElement(Z,{className:g.menuItem,key:e.value?e.value:e,value:e.value?e.value:e},e.label?e.label:e)}))),c.createElement(h.a,{color:"inherit",variant:"body2",className:g.caption},R({from:0===C?0:D*G+1,to:-1!==C?Math.min(C,(D+1)*G):(D+1)*G,count:-1===C?-1:C,page:D})),c.createElement(b,{className:g.actions,backIconButtonProps:Object(a.a)({title:x,"aria-label":x},u),count:C,nextIconButtonProps:Object(a.a)({title:B,"aria-label":B},_),onChangePage:I,onPageChange:M,page:D,rowsPerPage:G})))}));t.a=Object(s.a)((function(e){return{root:{color:e.palette.text.primary,fontSize:e.typography.pxToRem(14),overflow:"auto","&:last-child":{padding:0}},toolbar:{minHeight:52,paddingRight:2},spacer:{flex:"1 1 100%"},caption:{flexShrink:0},selectRoot:{marginRight:32,marginLeft:8},select:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"},selectIcon:{},input:{color:"inherit",fontSize:"inherit",flexShrink:0},menuItem:{},actions:{flexShrink:0,marginLeft:20}}}),{name:"MuiTablePagination"})(k)},2938:function(e,t,n){"use strict";n.r(t),n.d(t,"RENAME_OWNER_BTN_TEST_ID",(function(){return Je})),n.d(t,"REMOVE_OWNER_BTN_TEST_ID",(function(){return Ke})),n.d(t,"ADD_OWNER_BTN_TEST_ID",(function(){return $e})),n.d(t,"REPLACE_OWNER_BTN_TEST_ID",(function(){return et})),n.d(t,"OWNERS_ROW_TEST_ID",(function(){return tt}));var a=n(17),r=n(10),c=n(41),o=n(0),s=n(28),i=n(581),d=n(613),l=n(582),j=n(297),b=n.n(j),u=n(1),O=n.n(u),h=n(16),m=n(39),x=n(337),g=n(79),f=n(132),p=n(62),w=n(562),v=n(64),C=n(342),N=n(21),y=n(412),S=n(1577),P=n(13),k=n(539),R=Object(k.a)({formContainer:{padding:"".concat(P.md," ").concat(P.lg),minHeight:"340px"},buttonRow:{height:"84px",justifyContent:"center",gap:"16px"}}),T=n(1542),A=n(1589),_=n(1517),E=n(1532),B=n(1523),I=n(560),M=n(148),F=n(127),z=n(171),D=n(85),G=n(109),H=n(338),L=n(78),V=n(250),W=n(561),q=n(2),U="add-owner-name-input",X="add-owner-address-testid",Q="add-owner-next-btn",Z={setOwnerAddress:function(e,t,n){n.changeValue(t,"ownerAddress",(function(){return e[0]}))},setOwnerName:function(e,t,n){n.changeValue(t,"ownerName",(function(){return e[0]}))}},Y=Object(y.a)(R),J=function(e){var t,n=e.onClose,a=e.onSubmit,r=e.initialValues,c=Y(),o=Object(m.e)(H.f),s=null!==(t=Object(m.e)(L.a))&&void 0!==t?t:{},i=s.address,d=void 0===i?"":i,l=s.owners,j=void 0===l?[]:l,b=Object(I.q)(j),u=Object(I.c)(d);return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(W.a,{onClose:n,title:"Add new owner",subTitle:"1 of 3"}),Object(q.jsx)(z.a,{}),Object(q.jsx)(E.a,{formMutators:Z,initialValues:{ownerName:null===r||void 0===r?void 0:r.ownerName,ownerAddress:null===r||void 0===r?void 0:r.ownerAddress},onSubmit:function(e){a(e)},children:function(){var e=arguments.length<=3?void 0:arguments[3],t=function(t,n){var a=t;a.startsWith("ethereum:")&&(a=a.replace("ethereum:","")),e.setOwnerAddress(a),n()};return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(M.a,{className:c.formContainer,children:[Object(q.jsx)(G.a,{margin:"md",children:Object(q.jsx)(D.a,{children:"Add a new owner to the active Safe"})}),Object(q.jsx)(G.a,{margin:"md",children:Object(q.jsxs)(F.a,{xs:8,children:[Object(q.jsx)(_.a,{component:B.a,name:"ownerName",placeholder:"Owner name*",testId:U,text:"Owner name*",type:"text",validate:Object(I.d)(I.p,I.r)}),Object(q.jsx)(S.a,{name:"ownerAddress",children:function(){var t=Object(h.a)(O.a.mark((function t(n){var a,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(V.a)(n)&&(r=null===(a=o[n])||void 0===a?void 0:a.name)&&e.setOwnerName(r);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})]})}),Object(q.jsxs)(G.a,{margin:"md",children:[Object(q.jsx)(F.a,{xs:8,children:Object(q.jsx)(A.a,{fieldMutator:e.setOwnerAddress,name:"ownerAddress",placeholder:"Owner address*",testId:X,text:"Owner address*",validators:[b,u]})}),Object(q.jsx)(F.a,{center:"xs",className:c,middle:"xs",xs:1,children:Object(q.jsx)(T.a,{handleScan:t})})]})]}),Object(q.jsx)(z.a,{}),Object(q.jsx)(G.a,{align:"center",className:c.buttonRow,children:Object(q.jsx)(x.b.Footer.Buttons,{cancelButtonProps:{onClick:n,text:"Cancel"},confirmButtonProps:{type:"submit",text:"Next",testId:Q}})})]})}})]})},K=n(20),$=n(156),ee=Object(k.a)({root:{height:"372px"},info:{backgroundColor:P.background,padding:P.sm,justifyContent:"center",textAlign:"center",flexDirection:"column"},buttonRow:{height:"84px",justifyContent:"center",gap:"16px"},details:{padding:P.lg,borderRight:"solid 2px ".concat(P.border),height:"100%"},owners:{overflow:"auto",height:"100%"},ownersTitle:{padding:P.lg},owner:{padding:P.sm,alignItems:"center"},name:{textOverflow:"ellipsis",overflow:"hidden"},selectedOwner:{padding:P.sm,alignItems:"center",backgroundColor:"#f7f5f5"},open:{paddingLeft:P.sm,width:"auto","&:hover":{cursor:"pointer"}}}),te=n(32),ne=n(23),ae=n(1526),re=Object(y.a)(ee),ce=function(e){var t=e.onClickBack,n=e.onClose,a=e.onSubmit,r=e.values,s=re(),i=Object(o.useState)(""),d=Object(c.a)(i,2),l=d[0],j=d[1],b=Object(m.e)(L.j),u=b.address,x=b.name,f=b.owners,p=b.currentVersion,w=Object(m.e)(g.g);return Object(o.useEffect)((function(){var e=!0,t=function(){var t=Object(h.a)(O.a.mark((function t(){var n,a,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(te.h)(w,u,p);case 3:return n=t.sent,t.next=6,n.getAddOwnerTx({ownerAddress:r.ownerAddress,threshold:+r.threshold},{safeTxGas:0});case 6:a=t.sent,c=a.data.data,e&&j(c),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),Object(ne.c)(ne.b._811,t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}();return t(),function(){e=!1}}),[w,u,p,r.ownerAddress,r.threshold]),Object(q.jsxs)(ae.a,{txData:l,onSubmit:a,onBack:t,children:[Object(q.jsx)(W.a,{onClose:n,title:"Add new owner",subTitle:"3 of 3"}),Object(q.jsx)(z.a,{}),Object(q.jsxs)(M.a,{margin:"md",children:[Object(q.jsxs)(G.a,{className:s.root,children:[Object(q.jsx)(F.a,{layout:"column",xs:4,children:Object(q.jsxs)(M.a,{className:s.details,children:[Object(q.jsx)(M.a,{margin:"lg",children:Object(q.jsx)(D.a,{color:"primary",noMargin:!0,size:"lg",children:"Details"})}),Object(q.jsxs)(M.a,{margin:"lg",children:[Object(q.jsx)(D.a,{color:"disabled",noMargin:!0,size:"sm",children:"Safe name"}),Object(q.jsx)(D.a,{className:s.name,color:"primary",noMargin:!0,size:"lg",weight:"bolder",children:x})]}),Object(q.jsxs)(M.a,{margin:"lg",children:[Object(q.jsx)(D.a,{color:"disabled",noMargin:!0,size:"sm",children:"Any transaction requires the confirmation of:"}),Object(q.jsx)(D.a,{className:s.name,color:"primary",noMargin:!0,size:"lg",weight:"bolder",children:"".concat(r.threshold," out of ").concat(((null===f||void 0===f?void 0:f.length)||0)+1," owner(s)")})]})]})}),Object(q.jsxs)(F.a,{className:s.owners,layout:"column",xs:8,children:[Object(q.jsx)(G.a,{className:s.ownersTitle,children:Object(q.jsx)(D.a,{color:"primary",noMargin:!0,size:"lg",children:"".concat(((null===f||void 0===f?void 0:f.length)||0)+1," Safe owner(s)")})}),Object(q.jsx)(z.a,{}),null===f||void 0===f?void 0:f.map((function(e){return Object(q.jsxs)(o.Fragment,{children:[Object(q.jsx)(G.a,{className:s.owner,children:Object(q.jsx)(F.a,{align:"center",xs:12,children:Object(q.jsx)($.a,{hash:e.address,name:e.name,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object(K.i)(e.address)})})}),Object(q.jsx)(z.a,{})]},e.address)})),Object(q.jsx)(G.a,{align:"center",className:s.info,children:Object(q.jsx)(D.a,{color:"primary",noMargin:!0,size:"md",weight:"bolder",children:"ADDING NEW OWNER \u2193"})}),Object(q.jsx)(z.a,{}),Object(q.jsx)(G.a,{className:s.selectedOwner,"data-testid":"add-owner-review",children:Object(q.jsx)(F.a,{align:"center",xs:12,children:Object(q.jsx)($.a,{hash:r.ownerAddress,name:r.ownerName,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object(K.i)(r.ownerAddress)})})}),Object(q.jsx)(z.a,{})]})]}),Object(q.jsx)(z.a,{})]})]})},oe=n(89),se=n(609),ie=Object(k.a)({headingText:{fontSize:P.md},formContainer:{padding:"".concat(P.md," ").concat(P.lg),minHeight:"340px"},ownersText:{marginLeft:P.sm},buttonRow:{height:"84px",justifyContent:"center",gap:"16px"},inputRow:{position:"relative"},errorText:{position:"absolute",bottom:"-25px"}}),de=n(1550),le=Object(y.a)(ie),je=function(e){var t,n=e.onClickBack,a=e.onClose,c=e.onSubmit,o=e.initialValues,s=le(),i=null!==(t=Object(m.e)(L.a))&&void 0!==t?t:{},d=i.owners,l=i.threshold,j=void 0===l?1:l,b=d?d.length+1:0;return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(W.a,{onClose:a,title:"Add new owner",subTitle:"2 of 3"}),Object(q.jsx)(z.a,{}),Object(q.jsx)(E.a,{initialValues:{threshold:o.threshold||j.toString()},onSubmit:function(e){c(e)},children:function(){return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(M.a,{className:s.formContainer,children:[Object(q.jsx)(G.a,{children:Object(q.jsx)(D.a,{className:s.headingText,weight:"bolder",children:"Set the required owner confirmations:"})}),Object(q.jsx)(G.a,{children:Object(q.jsx)(D.a,{weight:"bolder",children:"Any transaction requires the confirmation of:"})}),Object(q.jsxs)(G.a,{align:"center",className:s.inputRow,margin:"xl",children:[Object(q.jsx)(F.a,{xs:2,children:Object(q.jsx)(_.a,{"data-testid":"threshold-select-input",name:"threshold",render:function(e){return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(de.a,Object(r.a)(Object(r.a)({},e),{},{disableError:!0,children:Object(oe.a)(Array(Number(b))).map((function(e,t){return Object(q.jsx)(se.a,{value:"".concat(t+1),children:t+1},t)}))})),e.meta.error&&e.meta.touched&&Object(q.jsx)(D.a,{className:s.errorText,color:"error",noMargin:!0,children:e.meta.error})]})},validate:Object(I.d)(I.p,I.o,Object(I.i)(1),Object(I.f)(b))})}),Object(q.jsx)(F.a,{xs:10,children:Object(q.jsxs)(D.a,{className:s.ownersText,color:"primary",noMargin:!0,size:"lg",children:["out of ",b," owner(s)"]})})]})]}),Object(q.jsx)(z.a,{}),Object(q.jsx)(G.a,{align:"center",className:s.buttonRow,children:Object(q.jsx)(x.b.Footer.Buttons,{cancelButtonProps:{onClick:n,text:"Back"},confirmButtonProps:{type:"submit",text:"Review",testId:"add-owner-threshold-next-btn"}})})]})}})]})},be=n(57),ue=function(){var e=Object(h.a)(O.a.mark((function e(t,n,a,r,c,o,s){var i,d,l;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(te.h)(o,n,a);case 2:return i=e.sent,e.next=5,i.getAddOwnerTx({ownerAddress:t.ownerAddress,threshold:+t.threshold},{safeTxGas:0});case 5:return d=e.sent,l=d.data.data,e.next=9,c(Object(w.c)({safeAddress:n,to:n,valueInWei:"0",txData:l,txNonce:r.safeNonce,safeTxGas:r.safeTxGas,ethParameters:r,notifiedTransaction:p.a.SETTINGS_CHANGE_TX,delayExecution:s}));case 9:e.sent&&c(Object(f.b)(Object(C.b)({address:t.ownerAddress,name:t.ownerName,chainId:Object(K.b)()})));case 11:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c,o,s){return e.apply(this,arguments)}}(),Oe=function(e){var t=e.isOpen,n=e.onClose,a=Object(o.useState)("selectOwner"),s=Object(c.a)(a,2),i=s[0],d=s[1],l=Object(o.useState)({ownerName:"",ownerAddress:"",threshold:""}),j=Object(c.a)(l,2),b=j[0],u=j[1],p=Object(m.d)(),w=Object(N.l)(),y=Object(m.e)(L.c),S=Object(m.e)(g.g),P=Object(m.e)(be.a);Object(o.useEffect)((function(){return function(){d("selectOwner"),u({ownerName:"",ownerAddress:"",threshold:""})}}),[t]);var k=function(){"reviewAddOwner"===i?d("selectThreshold"):"selectThreshold"===i&&d("selectOwner")},R=function(){var e=Object(h.a)(O.a.mark((function e(t,a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(),e.prev=1,e.next=4,ue(b,w,y,t,p,S,a);case 4:p(Object(f.b)(Object(C.b)({name:b.ownerName,address:b.ownerAddress,chainId:P}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),Object(ne.c)(ne.b._808,e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(q.jsx)(x.c,{description:"Add owner to Safe",handleClose:n,open:t,paperClassName:"bigger-modal-window",title:"Add owner to Safe",children:Object(q.jsxs)(q.Fragment,{children:["selectOwner"===i&&Object(q.jsx)(J,{initialValues:b,onClose:n,onSubmit:function(e){u((function(t){return Object(r.a)(Object(r.a)({},t),{},{ownerName:e.ownerName,ownerAddress:Object(v.a)(e.ownerAddress)})})),d("selectThreshold")}}),"selectThreshold"===i&&Object(q.jsx)(je,{onClickBack:k,initialValues:{threshold:b.threshold},onClose:n,onSubmit:function(e){u((function(t){return Object(r.a)(Object(r.a)({},t),{},{threshold:e.threshold})})),d("reviewAddOwner")}}),"reviewAddOwner"===i&&Object(q.jsx)(ce,{onClickBack:k,onClose:n,onSubmit:R,values:b})]})})},he=n(86),me=n(112),xe=Object(y.a)(Object(k.a)({heading:{padding:P.lg,justifyContent:"space-between",boxSizing:"border-box",height:"74px"},manage:{fontSize:P.lg},container:{padding:"".concat(P.md," ").concat(P.lg),minHeight:"200px"},close:{height:"35px",width:"35px"}})),ge="rename-owner-input",fe="save-owner-changes-btn",pe=function(e){var t=e.isOpen,n=e.onClose,a=e.owner,r=xe(),c=Object(m.d)(),o=Object(m.e)(be.a);return Object(q.jsxs)(x.c,{description:"Edit owner from Safe",handleClose:n,open:t,paperClassName:"smaller-modal-window",title:"Edit owner from Safe",children:[Object(q.jsx)(W.a,{onClose:n,title:"Edit owner name"}),Object(q.jsx)(z.a,{}),Object(q.jsx)(E.a,{onSubmit:function(e){var t=e.ownerName;t!==a.name&&(c(Object(f.b)(Object(C.b)({address:a.address,name:t,chainId:o}))),c(Object(me.b)(he.a.OWNER_NAME_CHANGE_EXECUTED_MSG))),n()},subscription:{pristine:!0},children:function(){for(var e=arguments.length,t=new Array(e),c=0;c<e;c++)t[c]=arguments[c];var o=t[2].pristine;return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(M.a,{className:r.container,children:[Object(q.jsx)(G.a,{margin:"md",children:Object(q.jsx)(_.a,{component:B.a,initialValue:a.name,name:"ownerName",placeholder:"Owner name*",testId:ge,text:"Owner name*",type:"text",validate:Object(I.d)(I.p,I.r)})}),Object(q.jsx)(G.a,{children:Object(q.jsx)(M.a,{justify:"center",children:Object(q.jsx)($.a,{hash:a.address,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object(K.i)(a.address)})})})]}),Object(q.jsx)(x.b.Footer,{children:Object(q.jsx)(x.b.Footer.Buttons,{cancelButtonProps:{onClick:n},confirmButtonProps:{disabled:o,testId:fe,text:"Save"}})})]})}})]})},we=Object(y.a)(Object(k.a)({formContainer:{padding:"".concat(P.md," ").concat(P.lg),minHeight:"340px"}})),ve=function(e){var t=e.onClose,n=e.onSubmit,a=e.owner,r=we();return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(W.a,{onClose:t,subTitle:"1 of 3",title:"Remove owner"}),Object(q.jsx)(z.a,{}),Object(q.jsxs)(M.a,{className:r.formContainer,children:[Object(q.jsx)(G.a,{margin:"md",children:Object(q.jsx)(D.a,{size:"lg",children:"Review the owner you want to remove from the active Safe:"})}),Object(q.jsx)(G.a,{children:Object(q.jsx)(F.a,{align:"center",xs:12,children:Object(q.jsx)($.a,{hash:a.address,name:a.name,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object(K.i)(a.address)})})})]}),Object(q.jsx)(x.b.Footer,{children:Object(q.jsx)(x.b.Footer.Buttons,{cancelButtonProps:{onClick:t},confirmButtonProps:{onClick:n,testId:"remove-owner-next-btn",text:"Next"}})})]})},Ce=Object(y.a)(Object(k.a)({root:{height:"372px"},info:{backgroundColor:P.background,padding:P.sm,justifyContent:"center",textAlign:"center",flexDirection:"column"},details:{padding:P.lg,borderRight:"solid 1px ".concat(P.border),height:"100%"},owners:{overflow:"auto",height:"100%"},ownersTitle:{padding:P.lg},owner:{padding:P.sm,alignItems:"center"},name:{textOverflow:"ellipsis",overflow:"hidden"},selectedOwner:{padding:P.sm,alignItems:"center",backgroundColor:"#ffe6ea"}})),Ne=n(44),ye=n(545),Se=function(e){var t=e.onClickBack,n=e.onClose,a=e.onSubmit,r=e.owner,s=e.threshold,i=void 0===s?1:s,d=Ce(),l=Object(o.useState)(""),j=Object(c.a)(l,2),b=j[0],u=j[1],x=Object(m.e)(L.j),f=x.address,p=x.name,w=x.owners,v=x.currentVersion,C=Object(m.e)(g.g),N=w?w.length-1:0;return Object(o.useEffect)((function(){var e=!0;if(i){var t=function(){var t=Object(h.a)(O.a.mark((function t(){var n,a,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(te.h)(C,f,v);case 3:return n=t.sent,t.next=6,n.getRemoveOwnerTx({ownerAddress:r.address,threshold:+i},{safeTxGas:0});case 6:a=t.sent,c=a.data.data,e&&u(c),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),Object(ne.c)(ye.a._812,t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}();return t(),function(){e=!1}}console.error("Threshold value was not define, tx can't be executed")}),[f,v,C,r.address,i]),Object(q.jsxs)(ae.a,{txData:b,onSubmit:a,onBack:t,children:[Object(q.jsx)(W.a,{onClose:n,title:"Remove owner",subTitle:"3 of 3"}),Object(q.jsx)(z.a,{}),Object(q.jsxs)(M.a,{margin:"md",children:[Object(q.jsxs)(G.a,{className:d.root,children:[Object(q.jsx)(F.a,{layout:"column",xs:4,children:Object(q.jsxs)(M.a,{className:d.details,children:[Object(q.jsx)(M.a,{margin:"lg",children:Object(q.jsx)(D.a,{color:"primary",noMargin:!0,size:"lg",children:"Details"})}),Object(q.jsxs)(M.a,{margin:"lg",children:[Object(q.jsx)(D.a,{color:"disabled",noMargin:!0,size:"sm",children:"Safe name"}),Object(q.jsx)(D.a,{className:d.name,color:"primary",noMargin:!0,size:"lg",weight:"bolder",children:p})]}),Object(q.jsxs)(M.a,{margin:"lg",children:[Object(q.jsx)(D.a,{color:"disabled",noMargin:!0,size:"sm",children:"Any transaction requires the confirmation of:"}),Object(q.jsx)(D.a,{className:d.name,color:"primary",noMargin:!0,size:"lg",weight:"bolder",children:"".concat(i," out of ").concat(N," owner(s)")})]})]})}),Object(q.jsxs)(F.a,{className:d.owners,layout:"column",xs:8,children:[Object(q.jsx)(G.a,{className:d.ownersTitle,children:Object(q.jsx)(D.a,{color:"primary",noMargin:!0,size:"lg",children:"".concat(N," Safe owner(s)")})}),Object(q.jsx)(z.a,{}),null===w||void 0===w?void 0:w.map((function(e){return!Object(Ne.f)(e.address,r.address)&&Object(q.jsxs)(o.Fragment,{children:[Object(q.jsx)(G.a,{className:d.owner,children:Object(q.jsx)(F.a,{align:"center",xs:12,children:Object(q.jsx)($.a,{hash:e.address,name:e.name,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object(K.i)(e.address)})})}),Object(q.jsx)(z.a,{})]},e.address)})),Object(q.jsx)(G.a,{align:"center",className:d.info,children:Object(q.jsx)(D.a,{color:"primary",noMargin:!0,size:"md",weight:"bolder",children:"REMOVING OWNER \u2193"})}),Object(q.jsx)(z.a,{}),Object(q.jsx)(G.a,{className:d.selectedOwner,"data-testid":"remove-owner-review",children:Object(q.jsx)(F.a,{align:"center",xs:12,children:Object(q.jsx)($.a,{hash:r.address,name:r.name,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object(K.i)(r.address)})})}),Object(q.jsx)(z.a,{})]})]}),Object(q.jsx)(z.a,{})]})]})},Pe=Object(y.a)(Object(k.a)({headingText:{fontSize:P.md},formContainer:{padding:"".concat(P.md," ").concat(P.lg),minHeight:"340px"},ownersText:{marginLeft:P.sm},inputRow:{position:"relative"},errorText:{position:"absolute",bottom:"-25px"}})),ke=function(e){var t,n,a=e.onClickBack,c=e.onClose,o=e.onSubmit,s=e.initialValues,i=Pe(),d=null!==(t=Object(m.e)(L.a))&&void 0!==t?t:{},l=d.owners,j=d.threshold,b=void 0===j?1:j,u=null!==(n=null===l||void 0===l?void 0:l.length)&&void 0!==n?n:0,O=b>1&&b===u?b-1:b;return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(W.a,{onClose:c,subTitle:"2 of 3",title:"Remove owner"}),Object(q.jsx)(z.a,{}),Object(q.jsx)(E.a,{initialValues:{threshold:s.threshold||O.toString()},onSubmit:function(e){o(e)},children:function(){var e=u>1?u-1:1;return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(M.a,{className:i.formContainer,children:[Object(q.jsx)(G.a,{children:Object(q.jsx)(D.a,{className:i.headingText,weight:"bolder",children:"Set the required owner confirmations:"})}),Object(q.jsx)(G.a,{children:Object(q.jsx)(D.a,{weight:"bolder",children:"Any transaction requires the confirmation of:"})}),Object(q.jsxs)(G.a,{align:"center",className:i.inputRow,margin:"xl",children:[Object(q.jsx)(F.a,{xs:2,children:Object(q.jsx)(_.a,{"data-testid":"threshold-select-input",name:"threshold",render:function(t){return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(de.a,Object(r.a)(Object(r.a)({},t),{},{disableError:!0,children:Object(oe.a)(Array(Number(e))).map((function(e,t){return Object(q.jsx)(se.a,{value:"".concat(t+1),children:t+1},t)}))})),t.meta.error&&t.meta.touched&&Object(q.jsx)(D.a,{className:i.errorText,color:"error",noMargin:!0,children:t.meta.error})]})},validate:Object(I.d)(I.p,I.o,Object(I.i)(1),Object(I.f)(e))})}),Object(q.jsx)(F.a,{xs:10,children:Object(q.jsxs)(D.a,{className:i.ownersText,color:"primary",noMargin:!0,size:"lg",children:["out of ",u?u-1:0," owner(s)"]})})]})]}),Object(q.jsx)(x.b.Footer,{children:Object(q.jsx)(x.b.Footer.Buttons,{cancelButtonProps:{onClick:a,text:"Back"},confirmButtonProps:{testId:"remove-owner-threshold-next-btn",text:"Review"}})})]})}})]})},Re=function(){var e=Object(h.a)(O.a.mark((function e(t,n,a,r,c,o,s,i){var d,l,j;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(te.h)(s,n,a);case 2:return d=e.sent,e.next=5,d.getRemoveOwnerTx({ownerAddress:r,threshold:+t.threshold},{safeTxGas:0});case 5:l=e.sent,j=l.data.data,c(Object(w.c)({safeAddress:n,to:n,valueInWei:"0",txData:j,txNonce:o.safeNonce,safeTxGas:o.safeTxGas,ethParameters:o,notifiedTransaction:p.a.SETTINGS_CHANGE_TX,delayExecution:i}));case 8:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c,o,s,i){return e.apply(this,arguments)}}(),Te=function(e){var t=e.isOpen,n=e.onClose,a=e.owner,s=Object(o.useState)("checkOwner"),i=Object(c.a)(s,2),d=i[0],l=i[1],j=Object(o.useState)(Object(r.a)(Object(r.a)({},a),{},{threshold:""})),b=Object(c.a)(j,2),u=b[0],f=b[1],p=Object(m.d)(),w=Object(N.l)(),v=Object(m.e)(L.c),C=Object(m.e)(g.g);Object(o.useEffect)((function(){return function(){l("checkOwner")}}),[t]);var y=function(){"reviewRemoveOwner"===d?l("selectThreshold"):"selectThreshold"===d&&l("checkOwner")},S=function(){var e=Object(h.a)(O.a.mark((function e(t,r){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(),e.prev=1,e.next=4,Re(u,w,v,a.address,p,t,C,r);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),Object(ne.c)(ne.b._809,e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(q.jsx)(x.c,{description:"Remove owner from Safe",handleClose:n,open:t,paperClassName:"bigger-modal-window",title:"Remove owner from Safe",children:Object(q.jsxs)(q.Fragment,{children:["checkOwner"===d&&Object(q.jsx)(ve,{onClose:n,onSubmit:function(){l("selectThreshold")},owner:a}),"selectThreshold"===d&&Object(q.jsx)(ke,{onClickBack:y,initialValues:{threshold:u.threshold},onClose:n,onSubmit:function(e){var t=Object(r.a)(Object(r.a)({},u),{},{threshold:e.threshold});f(t),l("reviewRemoveOwner")}}),"reviewRemoveOwner"===d&&Object(q.jsx)(Se,{onClickBack:y,onClose:n,onSubmit:S,owner:a,threshold:Number(u.threshold)})]})})},Ae=Object(y.a)(Object(k.a)({formContainer:{padding:"".concat(P.md," ").concat(P.lg),minHeight:"340px"},owner:{alignItems:"center"},address:{marginRight:P.sm}})),_e="replace-owner-name-input",Ee="replace-owner-address-testid",Be="replace-owner-next-btn",Ie={setOwnerAddress:function(e,t,n){n.changeValue(t,"ownerAddress",(function(){return e[0]}))},setOwnerName:function(e,t,n){n.changeValue(t,"ownerName",(function(){return e[0]}))}},Me=function(e){var t,n=e.onClose,a=e.onSubmit,r=e.owner,c=e.initialValues,o=Ae(),s=Object(m.e)(H.f),i=null!==(t=Object(m.e)(L.a))&&void 0!==t?t:{},d=i.address,l=void 0===d?"":d,j=i.owners,b=Object(I.q)(j),u=Object(I.c)(l);return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(W.a,{onClose:n,title:"Replace owner",subTitle:"1 of 2"}),Object(q.jsx)(z.a,{}),Object(q.jsx)(E.a,{formMutators:Ie,onSubmit:function(e){a(e)},initialValues:{ownerName:null===c||void 0===c?void 0:c.name,ownerAddress:null===c||void 0===c?void 0:c.address},children:function(){var e=arguments.length<=3?void 0:arguments[3],t=function(t,n){var a=t;a.startsWith("ethereum:")&&(a=a.replace("ethereum:","")),e.setOwnerAddress(a),n()};return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(M.a,{className:o.formContainer,children:[Object(q.jsx)(G.a,{children:Object(q.jsx)(D.a,{children:"Review the owner you want to replace from the active Safe. Then specify the new owner you want to replace it with:"})}),Object(q.jsx)(G.a,{children:Object(q.jsx)(D.a,{children:"Current owner"})}),Object(q.jsx)(G.a,{className:o.owner,children:Object(q.jsx)(F.a,{align:"center",xs:12,children:Object(q.jsx)($.a,{hash:r.address,name:r.name,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object(K.i)(r.address)})})}),Object(q.jsx)(G.a,{children:Object(q.jsx)(D.a,{children:"New owner"})}),Object(q.jsx)(G.a,{margin:"md",children:Object(q.jsxs)(F.a,{xs:8,children:[Object(q.jsx)(_.a,{component:B.a,name:"ownerName",placeholder:"Owner name*",testId:_e,text:"Owner name*",type:"text",validate:Object(I.d)(I.p,I.r)}),Object(q.jsx)(S.a,{name:"ownerAddress",children:function(){var t=Object(h.a)(O.a.mark((function t(n){var a,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(V.a)(n)&&(r=null===(a=s[n])||void 0===a?void 0:a.name)&&e.setOwnerName(r);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})]})}),Object(q.jsxs)(G.a,{margin:"md",children:[Object(q.jsx)(F.a,{xs:8,children:Object(q.jsx)(A.a,{fieldMutator:e.setOwnerAddress,name:"ownerAddress",placeholder:"Owner address*",testId:Ee,text:"Owner address*",validators:[b,u]})}),Object(q.jsx)(F.a,{center:"xs",className:o,middle:"xs",xs:1,children:Object(q.jsx)(T.a,{handleScan:t})})]})]}),Object(q.jsx)(x.b.Footer,{children:Object(q.jsx)(x.b.Footer.Buttons,{cancelButtonProps:{onClick:n},confirmButtonProps:{testId:Be,text:"Next"}})})]})}})]})},Fe=Object(y.a)(Object(k.a)({root:{height:"372px"},info:{backgroundColor:P.background,padding:P.sm,justifyContent:"center",textAlign:"center",flexDirection:"column"},details:{padding:P.lg,borderRight:"solid 1px ".concat(P.border),height:"100%"},owners:{overflow:"auto",height:"100%"},ownersTitle:{padding:P.lg},owner:{padding:P.sm,alignItems:"center"},name:{textOverflow:"ellipsis",overflow:"hidden"},selectedOwnerRemoved:{padding:P.sm,alignItems:"center",backgroundColor:"#ffe6ea"},selectedOwnerAdded:{padding:P.sm,alignItems:"center",backgroundColor:"#f7f5f5"}})),ze=function(e){var t=e.onClickBack,n=e.onClose,a=e.onSubmit,r=e.owner,s=e.newOwner,i=Fe(),d=Object(o.useState)(""),l=Object(c.a)(d,2),j=l[0],b=l[1],u=Object(m.e)(L.j),x=u.address,f=u.name,p=u.owners,w=u.threshold,v=void 0===w?1:w,C=u.currentVersion,N=Object(m.e)(g.g);return Object(o.useEffect)((function(){var e=!0,t=function(){var t=Object(h.a)(O.a.mark((function t(){var n,a,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(te.h)(N,x,C);case 3:return n=t.sent,t.next=6,n.getSwapOwnerTx({oldOwnerAddress:r.address,newOwnerAddress:s.address},{safeTxGas:0});case 6:a=t.sent,c=a.data.data,e&&b(c),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),Object(ne.c)(ne.b._813,t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}();return t(),function(){e=!1}}),[x,C,N,r.address,s.address]),Object(q.jsxs)(ae.a,{txData:j,onSubmit:a,onBack:t,children:[Object(q.jsx)(W.a,{onClose:n,title:"Replace owner",subTitle:"2 of 2"}),Object(q.jsx)(z.a,{}),Object(q.jsxs)(M.a,{margin:"md",children:[Object(q.jsxs)(G.a,{className:i.root,children:[Object(q.jsx)(F.a,{layout:"column",xs:4,children:Object(q.jsxs)(M.a,{className:i.details,children:[Object(q.jsx)(M.a,{margin:"lg",children:Object(q.jsx)(D.a,{color:"primary",noMargin:!0,size:"lg",children:"Details"})}),Object(q.jsxs)(M.a,{margin:"lg",children:[Object(q.jsx)(D.a,{color:"disabled",noMargin:!0,size:"sm",children:"Safe name"}),Object(q.jsx)(D.a,{className:i.name,color:"primary",noMargin:!0,size:"lg",weight:"bolder",children:f})]}),Object(q.jsxs)(M.a,{margin:"lg",children:[Object(q.jsx)(D.a,{color:"disabled",noMargin:!0,size:"sm",children:"Any transaction requires the confirmation of:"}),Object(q.jsx)(D.a,{className:i.name,color:"primary",noMargin:!0,size:"lg",weight:"bolder",children:"".concat(v," out of ").concat((null===p||void 0===p?void 0:p.length)||0," owner(s)")})]})]})}),Object(q.jsxs)(F.a,{className:i.owners,layout:"column",xs:8,children:[Object(q.jsx)(G.a,{className:i.ownersTitle,children:Object(q.jsx)(D.a,{color:"primary",noMargin:!0,size:"lg",children:"".concat((null===p||void 0===p?void 0:p.length)||0," Safe owner(s)")})}),Object(q.jsx)(z.a,{}),null===p||void 0===p?void 0:p.map((function(e){return!Object(Ne.f)(e.address,r.address)&&Object(q.jsxs)(o.Fragment,{children:[Object(q.jsx)(G.a,{className:i.owner,children:Object(q.jsx)(F.a,{align:"center",xs:12,children:Object(q.jsx)($.a,{hash:e.address,name:e.name,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object(K.i)(e.address)})})}),Object(q.jsx)(z.a,{})]},e.address)})),Object(q.jsx)(G.a,{align:"center",className:i.info,children:Object(q.jsx)(D.a,{color:"primary",noMargin:!0,size:"md",weight:"bolder",children:"REMOVING OWNER \u2193"})}),Object(q.jsx)(z.a,{}),Object(q.jsx)(G.a,{className:i.selectedOwnerRemoved,"data-testid":"remove-owner-review",children:Object(q.jsx)(F.a,{align:"center",xs:12,children:Object(q.jsx)($.a,{hash:r.address,name:r.name,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object(K.i)(r.address)})})}),Object(q.jsx)(G.a,{align:"center",className:i.info,children:Object(q.jsx)(D.a,{color:"primary",noMargin:!0,size:"md",weight:"bolder",children:"ADDING NEW OWNER \u2193"})}),Object(q.jsx)(z.a,{}),Object(q.jsx)(G.a,{className:i.selectedOwnerAdded,"data-testid":"add-owner-review",children:Object(q.jsx)(F.a,{align:"center",xs:12,children:Object(q.jsx)($.a,{hash:s.address,name:s.name,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object(K.i)(s.address)})})}),Object(q.jsx)(z.a,{})]})]}),Object(q.jsx)(z.a,{})]})]})},De=function(){var e=Object(h.a)(O.a.mark((function e(t,n,a,c,o,s,i,d){var l,j,b;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(te.h)(i,n,a);case 2:return l=e.sent,e.next=5,l.getSwapOwnerTx({oldOwnerAddress:c,newOwnerAddress:t.address},{safeTxGas:0});case 5:return j=e.sent,b=j.data.data,e.next=9,o(Object(w.c)({safeAddress:n,to:n,valueInWei:"0",txData:b,txNonce:s.safeNonce,safeTxGas:s.safeTxGas,ethParameters:s,notifiedTransaction:p.a.SETTINGS_CHANGE_TX,delayExecution:d}));case 9:e.sent&&o(Object(f.b)(Object(C.b)(Object(r.a)(Object(r.a)({},t),{},{chainId:Object(K.b)()}))));case 11:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c,o,s,i){return e.apply(this,arguments)}}(),Ge=function(e){var t=e.isOpen,n=e.onClose,a=e.owner,s=Object(o.useState)("checkOwner"),i=Object(c.a)(s,2),d=i[0],l=i[1],j=Object(o.useState)({address:"",name:""}),b=Object(c.a)(j,2),u=b[0],p=b[1],w=Object(m.d)(),y=Object(N.l)(),S=Object(m.e)(L.c),P=Object(m.e)(g.g);Object(o.useEffect)((function(){return function(){l("checkOwner"),p({address:"",name:""})}}),[t]);var k=function(){var e=Object(h.a)(O.a.mark((function e(t,c){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(),e.prev=1,e.next=4,De(u,y,S,a.address,w,t,P,c);case 4:w(Object(f.b)(Object(C.b)(Object(r.a)(Object(r.a)({},u),{},{chainId:Object(K.b)()})))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),Object(ne.c)(ne.b._810,e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(q.jsx)(x.c,{description:"Replace owner from Safe",handleClose:n,open:t,paperClassName:"bigger-modal-window",title:"Replace owner from Safe",children:Object(q.jsxs)(q.Fragment,{children:["checkOwner"===d&&Object(q.jsx)(Me,{onClose:n,onSubmit:function(e){var t=e.ownerAddress,n=e.ownerName;if(Object(V.a)(t)){var a=Object(v.a)(t);p({address:a,name:n}),l("reviewReplaceOwner")}},initialValues:u,owner:a}),"reviewReplaceOwner"===d&&Object(q.jsx)(ze,{onClickBack:function(){return l("checkOwner")},onClose:n,onSubmit:k,owner:a,newOwner:u})]})})},He=n(73),Le="name",Ve="address",We=Object(y.a)(Object(k.a)({formContainer:{minHeight:"420px"},title:{padding:P.lg,paddingBottom:0},annotation:{paddingLeft:P.lg},hide:{"&:hover":{backgroundColor:"#f7f5f5"},"&:hover $actions":{visibility:"initial"}},actions:{justifyContent:"flex-end",visibility:"hidden",minWidth:"100px",gap:"16px"},noBorderBottom:{"& > td":{borderBottom:"none"}},editOwnerIcon:{cursor:"pointer"},replaceOwnerIcon:{marginLeft:P.lg,cursor:"pointer"},controlsRow:{backgroundColor:"white",padding:P.lg,borderRadius:P.sm},removeOwnerIcon:{marginLeft:P.lg,cursor:"pointer"}})),qe=n(348),Ue=n(1581),Xe=n(1562),Qe=n(293),Ze=n(1560),Ye=n(189),Je="rename-owner-btn",Ke="remove-owner-btn",$e="add-owner-btn",et="replace-owner-btn",tt="owners-row";t.default=function(e){var t=e.granted,n=e.owners,j=Object(Ye.g)().trackEvent,u=We(),O=Object(o.useState)(),h=Object(c.a)(O,2),m=h[0],x=h[1],g=Object(o.useState)({showAddOwner:!1,showRemoveOwner:!1,showReplaceOwner:!1,showEditOwner:!1}),f=Object(c.a)(g,2),p=f[0],w=f[1],v=function(e,t){return function(){w((function(t){return Object(r.a)(Object(r.a)({},t),{},Object(a.a)({},"show".concat(e),!t["show".concat(e)]))})),t&&x(t)}},C=function(e){return function(){w((function(t){return Object(r.a)(Object(r.a)({},t),{},Object(a.a)({},"show".concat(e),!Boolean(t["show".concat(e)])))})),x(void 0)}};Object(o.useEffect)((function(){j(Ye.c.OWNERS)}),[j]);var N=function(){var e={id:Le,order:!1,formatTypeSort:function(e){return e.toLowerCase()},disablePadding:!1,label:"Name",width:150,custom:!1,align:"left"},t={id:Ve,order:!1,disablePadding:!1,label:"Address",custom:!1,align:"left"},n={id:"actions",order:!1,disablePadding:!1,label:"",custom:!0};return Object(He.a)([e,t,n])}(),y=N.filter((function(e){return!e.custom})),S=function(e){return e.map((function(e){var t;return t={},Object(a.a)(t,Le,e.name),Object(a.a)(t,Ve,e.address),t}))}(n);return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(M.a,{className:u.formContainer,children:[Object(q.jsx)(Ze.a,{className:u.title,tag:"h2",children:"Manage Safe Owners"}),Object(q.jsx)(D.a,{className:u.annotation,children:"Add, remove and replace owners or rename existing owners. Owner names are only stored locally and never shared with Gnosis or any third parties."}),Object(q.jsx)(d.a,{children:Object(q.jsx)(Ue.a,{columns:N,data:S,defaultFixed:!0,defaultOrderBy:Ve,disablePagination:!0,label:"Owners",noBorder:!0,size:S.length,children:function(e){return e.map((function(n,a){return Object(q.jsxs)(l.a,{className:b()(u.hide,a>=3&&a===e.size-1&&u.noBorderBottom),"data-testid":tt,children:[y.map((function(e){return Object(q.jsx)(i.a,{align:e.align,component:"td",style:Object(Xe.a)(e.width),children:e.id===Ve?Object(q.jsx)(M.a,{justify:"left",children:Object(q.jsx)($.a,{hash:n[e.id],showCopyBtn:!0,showAvatar:!0,explorerUrl:Object(K.i)(n[e.id])})}):n[e.id]},e.id)})),Object(q.jsx)(i.a,{component:"td",children:Object(q.jsxs)(G.a,{align:"end",className:u.actions,children:[Object(q.jsx)(qe.a,{onClick:v("EditOwner",n),dataTestId:Je,children:Object(q.jsx)(s.Icon,{size:"sm",type:"edit",color:"icon",tooltip:"Edit owner"})}),t&&Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(qe.a,{onClick:v("ReplaceOwner",n),dataTestId:et,children:Object(q.jsx)(s.Icon,{size:"sm",type:"replaceOwner",color:"icon",tooltip:"Replace owner"})}),S.length>1&&Object(q.jsx)(qe.a,{onClick:v("RemoveOwner",n),dataTestId:Ke,children:Object(q.jsx)(s.Icon,{size:"sm",type:"delete",color:"error",tooltip:"Remove owner"})})]})]})})]},a)}))}})})]}),t&&Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(z.a,{}),Object(q.jsx)(G.a,{align:"end",className:u.controlsRow,grow:!0,children:Object(q.jsx)(F.a,{end:"xs",children:Object(q.jsx)(Qe.a,{color:"primary",onClick:v("AddOwner"),size:"small",testId:$e,variant:"contained",children:"Add new owner"})})})]}),Object(q.jsx)(Oe,{isOpen:p.showAddOwner,onClose:C("AddOwner")}),m&&Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(Te,{isOpen:p.showRemoveOwner,onClose:C("RemoveOwner"),owner:m}),Object(q.jsx)(Ge,{isOpen:p.showReplaceOwner,onClose:C("ReplaceOwner"),owner:m}),Object(q.jsx)(pe,{isOpen:p.showEditOwner,onClose:C("EditOwner"),owner:m})]})]})}}}]);
//# sourceMappingURL=47.b6d2b353.chunk.js.map
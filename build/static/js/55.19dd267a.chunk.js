(this["webpackJsonpsafe-react"]=this["webpackJsonpsafe-react"]||[]).push([[55],{1526:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var n,i=a(41),r=a(27),c=a(0),s=a(25),o=a(1545),d=a(1563),l=a(21),j=a(1564),b=a(1567),u=a(1568),O=a(23),h=a(337),m=a(13),g=a(1558),f=a(1535),x=a(1551),_=a(2),p=s.default.div(n||(n=Object(r.a)(["\n  padding: 0 "," ",";\n"])),m.lg,m.md),v=function(e){var t=e.children,a=e.operation,n=e.txData,r=e.txValue,s=void 0===r?"0":r,m=e.txTo,v=e.txType,C=e.onSubmit,S=e.onBack,E=e.submitText,H=e.isConfirmDisabled,N=Object(c.useState)("0"),w=Object(i.a)(N,2),T=w[0],y=w[1],G=Object(c.useState)(),P=Object(i.a)(G,2),F=P[0],k=P[1],A=Object(c.useState)(),D=Object(i.a)(A,2),I=D[0],L=D[1],R=Object(c.useState)(),M=Object(i.a)(R,2),B=M[0],q=M[1],X=Object(c.useState)(),z=Object(i.a)(X,2),W=z[0],V=z[1],Z=Object(c.useState)(!0),Y=Object(i.a)(Z,2),J=Y[0],K=Y[1],Q=Object(l.l)(),U=Object(f.e)(v),$=Object(o.b)({txData:n,txRecipient:m||Q,txType:v,txAmount:s,safeTxGas:T,manualGasPrice:F,manualMaxPrioFee:I,manualGasLimit:B,manualSafeNonce:W,operation:a}),ee=$.gasCostFormatted,te=$.gasPriceFormatted,ae=$.gasMaxPrioFeeFormatted,ne=$.gasLimit,ie=$.gasEstimation,re=$.txEstimationExecutionStatus,ce=$.isCreation,se=$.isOffChainSignature,oe=Object(u.a)(re),de=Object(i.a)(oe,2),le=de[0],je=de[1],be=Object(x.a)(void 0,W),ue=J&&be,Oe=function(e){var t=te,a=e.ethGasPrice,n=ne,i=e.ethGasLimit,r=ae,c=e.ethMaxPrioFee,s=ie,o=e.safeTxGas,d=e.safeNonce;if(t!==a&&k(a),r!==c&&L(c),n!==i&&q(i),o&&s!==o&&y(o),d){var l=parseInt(d,10);V(l)}};return Object(_.jsx)(d.a,{isOffChainSignature:se,isExecution:ue,ethGasLimit:ne,ethGasPrice:te,ethMaxPrioFee:ae,safeTxGas:ie,closeEditModalCallback:Oe,children:function(e,a){return Object(_.jsxs)(_.Fragment,{children:[t,Object(_.jsxs)(p,{children:[!U&&be&&Object(_.jsx)(b.a,{onChange:K}),!U&&Object(_.jsx)(g.a,{txParameters:e,onEdit:a,isTransactionCreation:ce,isTransactionExecution:ue,isOffChainSignature:se})]}),!U&&Object(_.jsx)(j.a,{gasCostFormatted:ee,isCreation:ce,isExecution:ue,safeNonce:e.safeNonce,txEstimationExecutionStatus:re}),Object(_.jsx)(h.b.Footer,{withoutBorder:!U&&le!==h.a.LOADING,children:Object(_.jsx)(h.b.Footer.Buttons,{cancelButtonProps:{onClick:S||Oe,text:"Back"},confirmButtonProps:{onClick:function(){return function(e){if(je(h.a.LOADING),!Q)return je(h.a.READY),void Object(O.c)(O.b._802);C(e,!ue)}(e)},status:le,disabled:H,text:re===o.a.LOADING?"Estimating":E,testId:"submit-tx-btn"}})})]})}})}},1541:function(e,t,a){"use strict";var n=a(10),i=a(60),r=a(7),c=a(9),s=a(11),o=a(12),d=a(0),l=a(2),j=["children"],b=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.children,a=Object(i.a)(e,j);return Object(l.jsx)("b",Object(n.a)(Object(n.a)({},a),{},{children:t}))}}]),a}(d.PureComponent);t.a=b},1550:function(e,t,a){"use strict";var n=a(10),i=a(60),r=a(540),c=a(541),s=a(1425),o=a(546),d=a(2),l=["name","onChange","value"],j=["classes","disableError","formControlProps","input","label","meta","renderValue"],b={minWidth:"100%"};t.a=function(e){var t=e.classes,a=e.disableError,u=e.formControlProps,O=e.input,h=O.name,m=O.onChange,g=O.value,f=Object(i.a)(O,l),x=e.label,_=e.meta,p=e.renderValue,v=Object(i.a)(e,j),C=(_.submitError&&!_.dirtySinceLastSubmit||_.error)&&_.touched&&!a,S=Object(n.a)(Object(n.a)({},f),{},{name:h});return Object(d.jsxs)(r.a,Object(n.a)(Object(n.a)({},u),{},{error:C,style:b,children:[Object(d.jsx)(s.a,{htmlFor:h,children:x}),Object(d.jsx)(o.a,Object(n.a)({classes:t,inputProps:S,onChange:m,renderValue:p,value:g},v)),C&&Object(d.jsx)(c.a,{children:_.error||_.submitError})]}))}},1560:function(e,t,a){"use strict";var n=a(10),i=a(60),r=a(158),c=a.n(r),s=a(0),o=a(1569),d=a.n(o),l=a(75),j=["align","children","className","color","margin","tag","testId","truncate"],b=c.a.bind(d.a);t.a=function(e){var t=e.align,a=e.children,r=e.className,c=void 0===r?"":r,o=e.color,d=e.margin,u=e.tag,O=e.testId,h=e.truncate,m=Object(i.a)(e,j),g=b(c,"heading",t,u,d?Object(l.a)(d,"margin"):void 0,o,{truncate:h});return s.createElement(u,Object(n.a)(Object(n.a)({},m),{},{className:g,"data-testid":O||""}),a)}},1569:function(e,t,a){e.exports={heading:"Heading_heading__3Wz9P",h1:"Heading_h1__MXfCA",h2:"Heading_h2__3X6Ts",h3:"Heading_h3__1k2fD",h4:"Heading_h4__1YCmR",center:"Heading_center__28MHY",right:"Heading_right__1fQM1",truncate:"Heading_truncate__2Lq93",marginSm:"Heading_marginSm__13YwX",marginMd:"Heading_marginMd__2AnZN",marginLg:"Heading_marginLg__2ZfEq",marginXl:"Heading_marginXl__3RHt7",soft:"Heading_soft__2Zu43",medium:"Heading_medium__2X8Z-",dark:"Heading_dark__Ds2QB",fancy:"Heading_fancy__1Wx6l",warning:"Heading_warning__2lrZC",primary:"Heading_primary__2hOk2",secondary:"Heading_secondary__37lKs",disabled:"Heading_disabled__30DjG",error:"Heading_error__t5ujr",white:"Heading_white__2gkIK"}},2946:function(e,t,a){"use strict";a.r(t);var n=a(41),i=a(412),r=a(0),c=a(39),s=a(337),o=a(148),d=a(1541),l=a(293),j=a(1560),b=a(85),u=a(109),O=a(243),h=a(78),m=a(189),g=a(10),f=a(89),x=a(609),_=a(1517),p=a(1532),v=a(1550),C=a(560),S=a(127),E=a(171),H=a(561),N=a(101),w=a(562),T=a(62),y=a(1526),G=a(539),P=a(13),F=Object(i.a)(Object(G.a)({modalContent:{padding:"".concat(P.md," ").concat(P.lg)},ownersText:{marginLeft:P.sm},inputRow:{position:"relative"}})),k=a(2),A=function(e){var t=e.onClose,a=e.ownersCount,i=void 0===a?0:a,s=e.safeAddress,d=e.threshold,l=void 0===d?1:d,j=F(),O=Object(c.d)(),m=Object(c.e)(h.c),G=Object(r.useState)(""),P=Object(n.a)(G,2),A=P[0],D=P[1],I=Object(r.useState)(l),L=Object(n.a)(I,2),R=L[0],M=L[1],B=Object(r.useState)(!0),q=Object(n.a)(B,2),X=q[0],z=q[1];Object(r.useEffect)((function(){var e=!0;return function(){var t=Object(N.d)(s,m).methods.changeThreshold(R).encodeABI();e&&D(t)}(),function(){e=!1}}),[s,m,R]);var W=function(e){var t=e.target,a=parseInt(t.value);z(a===R||a===l),M(a)},V=function(e,a){O(Object(w.c)({safeAddress:s,to:s,valueInWei:"0",txData:A,txNonce:e.safeNonce,safeTxGas:e.safeTxGas,ethParameters:e,notifiedTransaction:T.a.SETTINGS_CHANGE_TX,delayExecution:a})),t()};return Object(k.jsxs)(y.a,{txData:A,onSubmit:V,isConfirmDisabled:X,children:[Object(k.jsx)(H.a,{onClose:t,title:"Change threshold"}),Object(k.jsx)(E.a,{}),Object(k.jsx)(p.a,{initialValues:{threshold:R.toString()},onSubmit:V,children:function(){return Object(k.jsxs)(o.a,{className:j.modalContent,children:[Object(k.jsx)(u.a,{children:Object(k.jsx)(b.a,{weight:"bolder",children:"Any transaction requires the confirmation of:"})}),Object(k.jsxs)(u.a,{align:"center",className:j.inputRow,margin:"xl",children:[Object(k.jsx)(S.a,{xs:2,children:Object(k.jsx)(_.a,{"data-testid":"threshold-select-input",name:"threshold",onChange:W,render:function(e){return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(v.a,Object(g.a)(Object(g.a)({},e),{},{disableError:!0,children:Object(f.a)(Array(Number(i))).map((function(e,t){return Object(k.jsx)(x.a,{value:"".concat(t+1),children:t+1},t)}))}))})},validate:Object(C.d)(C.p,C.o,Object(C.i)(1),Object(C.e)(l))})}),Object(k.jsx)(S.a,{xs:10,children:Object(k.jsx)(b.a,{className:j.ownersText,color:"primary",noMargin:!0,size:"lg",children:"out of ".concat(i," owner(s)")})})]})]})}})]})},D=Object(G.a)({ownersText:{color:P.secondaryText,"& b":{color:P.fontColor}},container:{padding:P.lg},buttonRow:{padding:P.lg,position:"absolute",left:0,bottom:0,boxSizing:"border-box",width:"100%",justifyContent:"flex-end",borderTop:"2px solid ".concat(P.border)},modifyBtn:{height:P.xl,fontSize:P.smallFontSize}}),I=Object(i.a)(D);t.default=function(){var e,t=I(),a=Object(r.useState)(!1),i=Object(n.a)(a,2),g=i[0],f=i[1],x=null!==(e=Object(c.e)(h.a))&&void 0!==e?e:{},_=x.address,p=void 0===_?"":_,v=x.owners,C=x.threshold,S=void 0===C?1:C,E=Object(c.e)(O.b),H=function(){f((function(e){return!e}))},N=Object(m.g)().trackEvent;return Object(r.useEffect)((function(){N(m.c.OWNERS)}),[N]),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(o.a,{className:t.container,children:[Object(k.jsx)(j.a,{tag:"h2",children:"Required Confirmations"}),Object(k.jsx)(b.a,{children:"Any transaction requires the confirmation of:"}),Object(k.jsxs)(b.a,{className:t.ownersText,size:"lg",children:[Object(k.jsx)(d.a,{children:S})," out of ",Object(k.jsx)(d.a,{children:(null===v||void 0===v?void 0:v.length)||0})," owners"]}),v&&v.length>1&&E&&Object(k.jsx)(u.a,{className:t.buttonRow,children:Object(k.jsx)(l.a,{className:t.modifyBtn,color:"primary",minWidth:120,onClick:H,variant:"contained",children:"Change"})})]}),Object(k.jsx)(s.c,{description:"Change Required Confirmations Form",handleClose:H,open:g,title:"Change Required Confirmations",children:Object(k.jsx)(A,{onClose:H,ownersCount:null===v||void 0===v?void 0:v.length,safeAddress:p,threshold:S})})]})}}}]);
//# sourceMappingURL=55.19dd267a.chunk.js.map
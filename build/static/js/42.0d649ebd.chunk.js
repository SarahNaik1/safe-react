(this["webpackJsonpsafe-react"]=this["webpackJsonpsafe-react"]||[]).push([[42],{1517:function(e,n,t){"use strict";var a=t(10),r=t(1513),c=t(2);n.a=function(e){return Object(c.jsx)(r.a,Object(a.a)({},e))}},1523:function(e,n,t){"use strict";var a=t(10),r=t(60),c=t(610),i=t(539),o=t(412),s=t(13),l=t(2),d=["name","onChange","value"],u=["input","inputAdornment","meta","multiline","rows","testId","text"],b={overflow:"hidden",width:"100%"},j=Object(o.a)((function(){return Object(i.a)({root:{paddingTop:s.lg,paddingBottom:"12px",lineHeight:0}})}));n.a=function(e){var n=e.input,t=n.name,i=n.onChange,o=n.value,s=Object(r.a)(n,d),f=e.inputAdornment,h=e.meta,O=e.multiline,p=e.rows,m=e.testId,x=e.text,g=Object(r.a)(e,u),v=j(),w=o?x:void 0,y=(h.touched||!h.pristine)&&!h.valid,k=!!h.error||!h.modifiedSinceLastSubmit&&!!h.submitError,S=h.error||h.submitError,C=!h.active&&(h.pristine||!h.touched),N="undefined"===typeof h.error||!h.touched,_=C&&N,E=w?v.root:"",F=h.valid?"isValid":k&&y?"isInvalid":"",A=Object(a.a)(Object(a.a)({},s),{},{autoComplete:"off","data-testid":m}),T=Object(a.a)(Object(a.a)({},f),{},{className:"".concat(E," ").concat(F),disableUnderline:_});return Object(l.jsx)(c.a,Object(a.a)({error:k&&y,helperText:k&&y?S:w||" ",inputProps:A,InputProps:T,multiline:O,name:t,onChange:i,rows:p,style:b,value:o},g))}},1542:function(e,n,t){"use strict";t.d(n,"a",(function(){return N}));var a=t(41),r=t(412),c=t(0),i=t.p+"static/media/qrcode.fec1b6d8.svg",o=t(421),s=t(340),l=t.n(s),d=t(1576),u=t.n(d),b=t(13),j=t(539),f=Object(j.a)({heading:{padding:b.lg,justifyContent:"space-between",maxHeight:"75px",boxSizing:"border-box"},loaderContainer:{width:"100%",height:"100%"},close:{height:"25px",width:"25px",color:b.secondaryText},detailsContainer:{backgroundColor:b.background,maxHeight:"450px"},buttonRow:{height:"84px",justifyContent:"center"},button:{"&:last-child":{marginLeft:b.sm}}}),h=t(337),O=t(148),p=t(293),m=t(127),x=t(171),g=t(85),v=t(109),w=t(2),y=Object(r.a)(f),k=function(e){var n=e.isOpen,t=e.onClose,r=e.onScan,i=y(),s=Object(c.useState)(!1),d=Object(a.a)(s,2),b=d[0],j=d[1],f=Object(c.useState)(null),k=Object(a.a)(f,2),S=k[0],C=k[1],N=Object(c.useState)(!1),_=Object(a.a)(N,2),E=_[0],F=_[1],A=c.createRef(),T=c.useCallback((function(){A.current.openImageDialog()}),[A]);Object(c.useEffect)((function(){b||!E||S||(j(!0),T())}),[E,T,b,j,S]);var I=function(e,n){if(e)return console.error("QR code error",e),void("NotAllowedError"===e.name||"PermissionDismissedError"===e.name?(F(!0),j(!1)):C("The QR could not be read"));n?r(n):E&&C("The QR could not be read")};return Object(w.jsxs)(h.c,{description:"Receive Tokens Form",handleClose:t,open:n,title:"Receive Tokens",children:[Object(w.jsxs)(v.a,{align:"center",className:i.heading,grow:!0,children:[Object(w.jsx)(g.a,{noMargin:!0,size:"xl",children:"Scan QR"}),Object(w.jsx)(o.a,{disableRipple:!0,onClick:t,children:Object(w.jsx)(l.a,{className:i.close})})]}),Object(w.jsx)(x.a,{}),Object(w.jsxs)(m.a,{className:i.detailsContainer,layout:"column",middle:"xs",children:[S&&Object(w.jsx)(O.a,{padding:"md",margin:"md",children:S}),Object(w.jsx)(u.a,{legacyMode:E,onError:function(e){return I(e,null)},onScan:function(e){return I(null,e)},ref:A,style:{width:"400px",height:"400px"},facingMode:"user"})]}),Object(w.jsx)(x.a,{}),Object(w.jsxs)(v.a,{align:"center",className:i.buttonRow,children:[Object(w.jsx)(p.a,{className:i.button,color:"secondary",minWidth:154,onClick:t,children:"Close"}),Object(w.jsx)(p.a,{className:i.button,color:"primary",minWidth:154,onClick:function(){F(!0),C(null),j(!1)},variant:"contained",children:"Upload an image"})]})]})},S=t(128),C=Object(r.a)({qrCodeBtn:{cursor:"pointer"}}),N=function(e){var n=e.handleScan,t=e.testId,r=C(),o=Object(c.useState)(!1),s=Object(a.a)(o,2),l=s[0],d=s[1],u=function(){d(!1)};return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(S.a,{alt:"Scan QR",className:r.qrCodeBtn,height:20,onClick:function(){d(!0)},role:"button",src:i,testId:t||"qr-icon"}),l&&Object(w.jsx)(k,{isOpen:l,onClose:u,onScan:function(e){n(e,u)}})]})}},1550:function(e,n,t){"use strict";var a=t(10),r=t(60),c=t(540),i=t(541),o=t(1425),s=t(546),l=t(2),d=["name","onChange","value"],u=["classes","disableError","formControlProps","input","label","meta","renderValue"],b={minWidth:"100%"};n.a=function(e){var n=e.classes,t=e.disableError,j=e.formControlProps,f=e.input,h=f.name,O=f.onChange,p=f.value,m=Object(r.a)(f,d),x=e.label,g=e.meta,v=e.renderValue,w=Object(r.a)(e,u),y=(g.submitError&&!g.dirtySinceLastSubmit||g.error)&&g.touched&&!t,k=Object(a.a)(Object(a.a)({},m),{},{name:h});return Object(l.jsxs)(c.a,Object(a.a)(Object(a.a)({},j),{},{error:y,style:b,children:[Object(l.jsx)(o.a,{htmlFor:h,children:x}),Object(l.jsx)(s.a,Object(a.a)({classes:n,inputProps:k,onChange:O,renderValue:v,value:p},w)),y&&Object(l.jsx)(i.a,{children:g.error||g.submitError})]}))}},1560:function(e,n,t){"use strict";var a=t(10),r=t(60),c=t(158),i=t.n(c),o=t(0),s=t(1569),l=t.n(s),d=t(75),u=["align","children","className","color","margin","tag","testId","truncate"],b=i.a.bind(l.a);n.a=function(e){var n=e.align,t=e.children,c=e.className,i=void 0===c?"":c,s=e.color,l=e.margin,j=e.tag,f=e.testId,h=e.truncate,O=Object(r.a)(e,u),p=b(i,"heading",n,j,l?Object(d.a)(l,"margin"):void 0,s,{truncate:h});return o.createElement(j,Object(a.a)(Object(a.a)({},O),{},{className:p,"data-testid":f||""}),t)}},1569:function(e,n,t){e.exports={heading:"Heading_heading__3Wz9P",h1:"Heading_h1__MXfCA",h2:"Heading_h2__3X6Ts",h3:"Heading_h3__1k2fD",h4:"Heading_h4__1YCmR",center:"Heading_center__28MHY",right:"Heading_right__1fQM1",truncate:"Heading_truncate__2Lq93",marginSm:"Heading_marginSm__13YwX",marginMd:"Heading_marginMd__2AnZN",marginLg:"Heading_marginLg__2ZfEq",marginXl:"Heading_marginXl__3RHt7",soft:"Heading_soft__2Zu43",medium:"Heading_medium__2X8Z-",dark:"Heading_dark__Ds2QB",fancy:"Heading_fancy__1Wx6l",warning:"Heading_warning__2lrZC",primary:"Heading_primary__2hOk2",secondary:"Heading_secondary__37lKs",disabled:"Heading_disabled__30DjG",error:"Heading_error__t5ujr",white:"Heading_white__2gkIK"}},1588:function(e,n,t){"use strict";t.d(n,"b",(function(){return l})),t.d(n,"a",(function(){return d}));var a=t(10),r=t(41),c=t(0),i=t(21),o=t(2),s=Object(c.createContext)({});function l(){var e=Object(c.useContext)(s);if(!(Object.keys(e).length>0))throw new Error("useStepper must be used within a StepperProvider!");return e}function d(e){var n=e.onFinish,t=e.store,l=e.disableNextButton,d=e.stepsComponents,u=e.children,b=e.testId,j=Object(c.useState)(0),f=Object(r.a)(j,2),h=f[0],O=f[1],p=c.Children.toArray(d),m=p[h],x=m.props.nextButtonType,g=m.props.nextButtonLabel,v="submit"===x,w=0===h,y=h>p.length-2,k=g,S=Object(a.a)({currentStep:h,setCurrentStep:O,steps:p,CurrentStepComponent:m,isFirstStep:w,isLastStep:y,onClickPreviousStep:function(){w?i.s.goBack():O((function(e){return e-1}))},onClickNextStep:function(){v||(y?null===n||void 0===n||n():O((function(e){return e+1})))},disableNextButton:l,nextButtonType:x,customNextButtonLabel:k,testId:b},t);return Object(o.jsx)(s.Provider,{value:S,children:u})}},1589:function(e,n,t){"use strict";var a=t(17),r=t(10),c=t(89),i=t(41),o=t(0),s=t(1513),l=t(1577),d=t(618),u=t(611),b=t(1523),j=t(560),f=t(157),h=t(32),O=t(44),p=t(64),m=t(23),x=t(190),g=t(2);n.a=function(e){var n=e.className,t=void 0===n?"":n,v=e.name,w=void 0===v?"recipientAddress":v,y=e.text,k=void 0===y?"Recipient*":y,S=e.placeholder,C=void 0===S?"Recipient*":S,N=e.fieldMutator,_=e.testId,E=e.inputAdornment,F=e.validators,A=void 0===F?[]:F,T=e.defaultValue,I=e.disabled,z=Object(o.useState)(""),B=Object(i.a)(z,2),P=B[0],L=B[1],H=Object(o.useState)({}),R=Object(i.a)(H,2),M=R[0],D=R[1],G=M[P],W=""===G,q=Object(o.useCallback)((function(e){var n=Object(x.b)(e);return j.d.apply(void 0,Object(c.a)(A))(n.address)}),[A]),V=Object(o.useMemo)((function(){return Object(j.d)(j.p,j.k,q)}),[q]),Y=Object(o.useCallback)((function(e){var n=Object(f.c)(e);if(L(e),Object(O.e)(n)||Object(O.d)(n))D((function(n){return Object(r.a)(Object(r.a)({},n),{},Object(a.a)({},e,""))})),Object(h.c)(n).then((function(n){var t=Object(p.a)(n);D((function(n){return Object(r.a)(Object(r.a)({},n),{},Object(a.a)({},e,t))}))})).catch((function(n){D((function(n){return Object(r.a)(Object(r.a)({},n),{},Object(a.a)({},e,void 0))})),Object(m.c)(m.b._101,n.message)}));else if(!Object(j.k)(n)){var t=Object(x.b)(n),c=Object(p.a)(t.address)||t.address;N(c)}}),[L,D,N]);Object(o.useEffect)((function(){G&&Y(G)}),[G,Y]);var X=W?{endAdornment:Object(g.jsx)(d.a,{position:"end",children:Object(g.jsx)(u.a,{size:"16px"})})}:E;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(s.a,{className:t,component:b.a,defaultValue:T,disabled:I,inputAdornment:X,name:w,placeholder:C,text:k,spellCheck:!1,validate:V,inputProps:{"data-testid":_}}),Object(g.jsx)(l.a,{name:w,children:Y})]})}},1590:function(e,n,t){"use strict";var a,r=t(27),c=t(10),i=t(25),o=t(20),s=t(13),l=t(2);n.a=function(e){var n=e.networkInfo,t=e.onClick,a=e.flexGrow,r=n||Object(o.e)();return Object(l.jsx)(d,Object(c.a)(Object(c.a)({onClick:t,flexGrow:a},r.theme),{},{children:r.chainName}))};var d=i.default.span(a||(a=Object(r.a)(["\n  position: relative;\n  bottom: 2px;\n  line-height: normal;\n  display: inline-block;\n  min-width: 70px;\n  font-size: ",";\n  padding: "," ",";\n  background-color: ",";\n  color: ",";\n  cursor: ",";\n  text-align: center;\n  border-radius: 3px;\n  text-transform: capitalize;\n  flex-grow: ",";\n"])),s.extraSmallFontSize,s.xs,s.sm,(function(e){var n=e.backgroundColor;return null!==n&&void 0!==n?n:s.border}),(function(e){var n=e.textColor;return null!==n&&void 0!==n?n:s.fontColor}),(function(e){return e.onClick?"pointer":"inherit"}),(function(e){return e.flexGrow?1:"initial"}))},1649:function(e,n,t){"use strict";var a=t(158),r=t.n(a),c=t(1650),i=t.n(c),o=t(2),s=r.a.bind(i.a);n.a=function(e){var n=e.align,t=e.children,a=e.overflow;return Object(o.jsx)("main",{className:s(i.a.page,n,{overflow:a}),children:t})}},1650:function(e,n,t){e.exports={page:"Page_page__G6hb0",center:"Page_center__1dwJ9",overflow:"Page_overflow__30EmX"}},1836:function(e,n,t){"use strict";t.d(n,"a",(function(){return S}));var a=t(10),r=t(41),c=t(0),i=t.n(c),o=t(1513),s=t(772),l=t(619),d=t(2930),u=t(770),b=t(418),j=t(412),f=t(171),h=t(293),O=t(127),p=t(109),m=t(13),x=t(1588),g=t(2);function v(){var e=Object(x.b)(),n=e.currentStep,t=e.setCurrentStep,a=e.steps,r=e.onClickPreviousStep,c=e.onClickNextStep,i=e.disableNextButton,o=e.nextButtonType,j=e.testId;return Object(g.jsx)(s.a,{"data-testid":j,activeStep:n,orientation:"vertical",children:a.map((function(e,s){var j=0===s,m=n>s,x=y({isStepLabelClickable:m});var v=a[s],w=j?"Cancel":"Back",k=v.props.nextButtonLabel||"Next";return Object(g.jsxs)(l.a,{children:[Object(g.jsx)(u.a,{onClick:function(){m&&t(s)},className:x.stepLabel,children:e.props.label}),Object(g.jsx)(d.a,{children:Object(g.jsxs)(b.a,{className:x.root,elevation:1,children:[v,Object(g.jsx)(f.a,{}),Object(g.jsx)(p.a,{align:"center",grow:!0,className:x.controlStyle,children:Object(g.jsxs)(O.a,{center:"xs",xs:12,children:[Object(g.jsx)(h.a,{onClick:r,size:"small",className:x.backButton,type:"button",children:w}),Object(g.jsx)(h.a,{onClick:c,color:"primary",type:o||"button",disabled:i||e.props.disableNextButton,size:"small",className:x.nextButton,variant:"contained",children:k})]})})]})})]},e.props.label)}))})}function w(e){return Object(g.jsx)(x.a,Object(a.a)(Object(a.a)({stepsComponents:e.children},e),{},{children:Object(g.jsx)(v,{})}))}var y=Object(j.a)((function(e){return{root:{margin:"10px 0 10px 10px",maxWidth:"770px",boxShadow:"0 0 10px 0 rgba(33,48,77,0.10)"},controlStyle:{backgroundColor:"white",padding:m.lg,borderRadius:m.sm},backButton:{marginRight:m.sm,fontWeight:m.boldFont,color:e.palette.secondary.main},nextButton:{fontWeight:m.boldFont},stepLabel:{cursor:function(e){return e.isStepLabelClickable?"pointer":"inherit"}}}}));function k(e){return e.children}n.b=function(e){var n=e.children,t=e.onSubmit,s=e.testId,l=e.initialValues,d=Object(c.useState)(),u=Object(r.a)(d,2),b=u[0],j=u[1],f=Object(c.useState)(),h=Object(r.a)(f,2),O=h[0],p=h[1],m=Object(c.useMemo)((function(){return i.a.Children.toArray(n).filter(Boolean).map((function(e,n,r){function i(){var a=Object(x.b)().setCurrentStep;return Object(c.useEffect)((function(){var c=n===r.length-1;j((function(){return e.props.validate})),p(c?function(){return function(e){return t(e)}}:function(){return function(){a((function(e){return e+1}))}})}),[a]),e.props.children}return Object(g.jsx)(k,Object(a.a)(Object(a.a)({nextButtonType:"submit"},e.props),{},{children:Object(g.jsx)(i,{})}),e.props.label)}))}),[n,t]);return Object(g.jsx)(o.b,{onSubmit:function(e){return null===O||void 0===O?void 0:O(e)},initialValues:l,validate:function(e){return null===b||void 0===b?void 0:b(e)},children:function(e){var n=e.handleSubmit,t=e.submitting;return Object(g.jsx)("form",{"data-testid":s,onSubmit:n,children:Object(g.jsx)(w,{disableNextButton:t,nextButtonType:"submit",children:m})})}})};function S(e){return e.children}},1837:function(e,n,t){"use strict";t.d(n,"a",(function(){return d}));var a=t(41),r=t(0),c=t(20),i="\naardvark\nalbatross\nalligator\nalpaca\nant\nanteater\nantelope\nape\narmadillo\nbaboon\nbadger\nbarracuda\nbat\nbear\nbeaver\nbee\nbinturong\nbird\nbison\nbluebird\nboar\nbobcat\nbuffalo\nbutterfly\ncamel\ncapybara\ncaracal\ncaribou\ncassowary\ncat\ncaterpillar\ncattle\nchameleon\nchamois\ncheetah\nchicken\nchimpanzee\nchinchilla\nchough\ncoati\ncobra\ncockroach\ncod\ncormorant\ncougar\ncoyote\ncrab\ncrane\ncricket\ncrocodile\ncrow\ncuckoo\ncurlew\ndeer\ndegu\ndhole\ndingo\ndinosaur\ndog\ndogfish\ndolphin\ndonkey\ndotterel\ndove\ndragonfly\nduck\ndugong\ndunlin\neagle\nechidna\neel\neland\nelephant\nelk\nemu\nfalcon\nferret\nfinch\nfish\nflamingo\nfly\nfox\nfrog\ngaur\ngazelle\ngecko\ngerbil\ngiraffe\ngnat\ngnu\ngoat\ngoldfinch\ngoosander\ngoose\ngorilla\ngoshawk\ngrasshopper\ngrouse\nguanaco\nguinea-pig\ngull\nhamster\nhare\nhawk\nhedgehog\nheron\nherring\nhippopotamus\nhoatzin\nhoopoe\nhornet\nhorse\nhuman\nhummingbird\nhyena\nibex\nibis\niguana\nimpala\njackal\njaguar\njay\njellyfish\njerboa\nkangaroo\nkingfisher\nkinkajou\nkoala\nkomodo-dragon\nkookaburra\nkouprey\nkudu\nlapwing\nlark\nlemur\nleopard\nlion\nlizard\nllama\nlobster\nlocust\nloris\nlouse\nlynx\nlyrebird\nmacaque\nmacaw\nmagpie\nmallard\nmammoth\nmanatee\nmandrill\nmarmoset\nmarmot\nmeerkat\nmink\nmole\nmongoose\nmonkey\nmoose\nmosquito\nmouse\nmyna\nnarwhal\nnewt\nnightingale\noctopus\nokapi\nopossum\norangutan\noryx\nostrich\notter\nowl\noyster\npanther\nparrot\npanda\npartridge\npeafowl\npelican\npenguin\npheasant\npig\npigeon\npika\npolar-bear\npony\nporcupine\nporpoise\npug\nquail\nquelea\nquetzal\nrabbit\nraccoon\nram\nrat\nraven\nred-deer\nred-panda\nreindeer\nrhea\nrhinoceros\nrook\nsalamander\nsalmon\nsand-dollar\nsandpiper\nsardine\nsea-lion\nseahorse\nseal\nshark\nsheep\nshrew\nsiamang\nskunk\nsloth\nsnail\nsnake\nspider\nsquid\nsquirrel\nstarling\nstegosaurus\nswan\ntamarin\ntapir\ntarsier\ntermite\ntiger\ntoad\ntoucan\nturaco\nturkey\nturtle\numbrellabird\nvinegaroon\nviper\nvulture\nwallaby\nwalrus\nwasp\nwaxwing\nweasel\nwhale\nwobbegong\nwolf\nwolverine\nwombat\nwoodpecker\nworm\nwren\nyak\nzebra\n".trim().split(/\s+/),o="\nadmirable\nenergetic\nlucky\naffable\nenjoyable\nmagnificent\naffectionate\nenthusiastic\nmarvelous\nagreeable\neuphoric\nmeritorious\namazing\nexcellent\nmerry\namiable\nexceptional\nmild-mannered\namused\nexcited\nnice\namusing\nextraordinary\nnoble\nanimated\nexultant\noutstanding\nappreciative\nfabulous\noverjoyed\nastonishing\nfaithful\npassionate\nauthentic\nfantastic\npeaceful\nbelievable\nfervent\nplacid\nbenevolent\nfortunate\npleasant\nblissful\nfriendly\npleasing\nbouncy\nfun\npleasurable\nbrilliant\ngenuine\npositive\nbubbly\nglad\npraiseworthy\nbuoyant\nglorious\nprominent\ncalm\ngood\nproud\ncharming\ngood-humored\nrelaxed\ncheerful\ngood-natured\nreliable\ncheery\ngracious\nrespectable\nclever\ngrateful\nsharp\ncomfortable\ngreat\nsincere\ncomical\nhappy\nspirited\ncommendable\nheartfelt\nsplendid\nconfident\nhonest\nsuperb\ncongenial\nhonorable\nsuperior\ncontent\nhopeful\nterrific\ncordial\nhumorous\nthankful\ncourteous\nincredible\ntremendous\ndedicated\ninspirational\ntriumphant\ndelighted\njolly\ntrustworthy\ndelightful\njovial\ntrusty\ndependable\njoyful\ntruthful\ndevoted\njoyous\nuplifting\ndocile\njubilant\nvictorious\ndynamic\nkeen\nvigorous\neager\nkind\nvirtuous\nearnest\nlaudable\nvivacious\neasygoing\nlaughing\nwhimsical\nebullient\nlikable\nwitty\necstatic\nlively\nwonderful\nelated\nlovely\nworthy\nemphatic\nloving\nzealous\nenchanting\nloyal\nzestful\n".trim().split(/\s+/),s=function(e){return e[Math.floor(e.length*Math.random())]},l=function(e){var n=Object(r.useState)(""),t=Object(a.a)(n,2),c=t[0],l=t[1];return Object(r.useEffect)((function(){l(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s(i),n=s(o);return"".concat(n,"-").concat(e)}(e))}),[e]),c},d=function(){var e=Object(c.f)().toLowerCase();return l("".concat(e,"-safe"))}},2939:function(e,n,t){"use strict";t.r(n);var a,r,c,i=t(27),o=t(17),s=t(10),l=t(1),d=t.n(l),u=t(16),b=t(41),j=t(0),f=t.n(j),h=t(421),O=t(1881),p=t.n(O),m=t(25),x=t(39),g=t(2290),v=t.n(g),w=t(56),y=t(28),k=t(1649),S=t(148),C=t(109),N=t(1560),_=t(21),E=t(13),F=t(1836),A=t(1513),T=t(127),I=t(85),z=t(1517),B=t(1523),P=t(79),L="customSafeName",H="suggestedSafeName",R="owners",M="safeOwnerENSList",D="newSafeThreshold",G="maxOwnerNumber",W="safeCreationSalt",q="gasLimit",V="gasPrice",Y="safeCreationTxHash",X="customerAccount",Q="hsbcOwners",J="hsbcSafeOwnerENSList",U="NEW_SAFE_PENDING_CREATION_STORAGE_KEY",Z=t(1588),K=t(32),$=t(2);var ee,ne,te,ae,re,ce,ie,oe,se,le=function(){var e=Object(j.useState)({}),n=Object(b.a)(e,2),t=n[0],a=n[1],r=Object(x.e)(P.d),c=Object(Z.b)().setCurrentStep;Object(j.useEffect)((function(){r||c(0)}),[r,c]);var i=Object(A.d)();return i.getState().values,Object(j.useEffect)((function(){var e=function(){var e=Object(u.a)(d.a.mark((function e(){var n,t,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.getState().values,t=n.owners,e.next=4,Promise.all(t.map(function(){var e=Object(u.a)(d.a.mark((function e(t){var a,r,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.addressFieldName,r=n[a],e.next=4,Object(K.n)(r);case 4:return c=e.sent,i=Object(K.l)(c),e.abrupt("return",{address:r,name:i});case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 4:r=e.sent,c=r.reduce((function(e,n){var t=n.address,a=n.name;return Object(s.a)(Object(s.a)({},e),{},Object(o.a)({},t,a))}),{}),a(c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[i]),Object(j.useEffect)((function(){t&&i.change(M,t)}),[t,i]),Object($.jsxs)(de,{"data-testid":"create-safe-name-step",children:[Object($.jsx)("label",{htmlFor:X,children:"Customer account number"}),Object($.jsx)(ue,{margin:"lg",children:Object($.jsx)(T.a,{xs:11,children:Object($.jsx)(z.a,{component:B.a,name:X,placeholder:"000-000000-000",text:"Account Number",type:"text",testId:"customer-account"})})}),Object($.jsx)("label",{htmlFor:L,children:"Name of the new Safe"}),Object($.jsx)(ue,{margin:"lg",children:Object($.jsx)(T.a,{xs:11,children:Object($.jsx)(z.a,{component:B.a,name:L,placeholder:"Customer name",text:"Safe name",type:"text",testId:"create-safe-name-field"})})}),Object($.jsx)(S.a,{margin:"lg",children:Object($.jsxs)(I.a,{color:"primary",noMargin:!0,size:"lg",children:["By continuing you consent with the"," ",Object($.jsx)(be,{href:"https://gnosis-safe.io/terms",rel:"noopener noreferrer",target:"_blank",children:"terms of use"})," ","and"," ",Object($.jsx)(be,{href:"https://gnosis-safe.io/privacy",rel:"noopener noreferrer",target:"_blank",children:"privacy policy"}),". Most importantly, you confirm that your funds are held securely in the Gnosis Safe, a smart contract on the Ethereum blockchain. These funds cannot be accessed by Gnosis at any point."]})})]})},de=Object(m.default)(S.a)(a||(a=Object(i.a)(["\n  padding: ",";\n"])),E.lg),ue=Object(m.default)(S.a)(r||(r=Object(i.a)(["\n  display: flex;\n  max-width: 480px;\n  margin-top: 12px;\n"]))),be=m.default.a(c||(c=Object(i.a)(["\n  color: ",";\n"])),E.secondary),je=t(1837),fe=t(89),he=t(1879),Oe=t.n(he),pe=t(618),me=t(609),xe=t(1589),ge=t(293),ve=t(348),we=t(1550),ye=t(171),ke=t(560),Se=t(1542),Ce=t(338);var Ne,_e,Ee,Fe,Ae,Te=function(){var e=Object(x.e)(P.d),n=Object(Z.b)().setCurrentStep;Object(j.useEffect)((function(){e||n(0)}),[e,n]);var t=Object(A.d)(),a=Object(x.e)(Ce.f),r=t.getState().values,c=t.getState().errors||{},i=r.owners,s=r.safeOwnerENSList,l=r.hsbcOwners,b=r.hsbcSafeOwnerENSList,f=r.newSafeThreshold,h=r.maxOwnerNumber,O=function(){var e=Object(u.a)(d.a.mark((function e(n){var a,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(K.n)(n);case 2:a=e.sent,r=Object(K.l)(a),c=Object.assign(s,Object(o.a)({},n,r)),t.change(M,c);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(S.a,{margin:"md",padding:"md",children:Object($.jsx)(Pe,{children:l.map((function(e){var n=e.hsbcNameFieldName,a=e.hsbcAddressFieldName,i=c[a],o=r[a];b[o];return Object($.jsxs)(j.Fragment,{children:[Object($.jsx)(Be,{color:"primary",noMargin:!0,size:"lg",children:r[n]}),Object($.jsx)(T.a,{xs:12,children:Object($.jsx)(xe.a,{fieldMutator:function(){var e=Object(u.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.change(a,n);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),inputAdornment:!i&&{endAdornment:Object($.jsx)(pe.a,{position:"end",children:Object($.jsx)(He,{"data-testid":"".concat(a,"-valid-adornment")})})},name:a,placeholder:"Owner Address*",text:"Owner Address",testId:a,disabled:!0})})]},a)}))})}),Object($.jsx)(ye.a,{}),Object($.jsxs)(Pe,{children:[Object($.jsx)(T.a,{xs:3,children:"NAME"}),Object($.jsx)(T.a,{xs:7,children:"ADDRESS"})]}),Object($.jsx)(ye.a,{}),Object($.jsxs)(S.a,{margin:"md",padding:"md",children:[Object($.jsx)(Pe,{children:i.map((function(e){var n=e.nameFieldName,o=e.addressFieldName,b=c[o],p=r[o],m="owner-address-0"!==o,x=s[p]||"Owner Name",g=function(){var e=Object(u.a)(d.a.mark((function e(n,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(n);case 2:t.change(o,n),a();case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return Object($.jsxs)(j.Fragment,{children:[Object($.jsx)(T.a,{xs:3,children:Object($.jsx)(Le,{component:B.a,name:n,placeholder:x,text:"Owner Name",type:"text",validate:Object(ke.h)(0,50),testId:n})}),Object($.jsx)(T.a,{xs:7,children:Object($.jsx)(xe.a,{fieldMutator:function(){var e=Object(u.a)(d.a.mark((function e(r){var c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(r);case 2:t.change(o,r),(i=null===(c=a[r])||void 0===c?void 0:c.name)&&t.change(n,i);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),inputAdornment:!b&&{endAdornment:Object($.jsx)(pe.a,{position:"end",children:Object($.jsx)(He,{"data-testid":"".concat(o,"-valid-adornment")})})},name:o,placeholder:"Owner Address*",text:"Owner Address",testId:o})}),Object($.jsx)(Re,{xs:1,center:"xs",middle:"xs",children:Object($.jsx)(Se.a,{handleScan:g,testId:"".concat(o,"-scan-QR")})}),m&&Object($.jsx)(Re,{xs:1,center:"xs",middle:"xs",children:Object($.jsx)(ve.a,{onClick:function(){return function(e){var n=e.addressFieldName,a=i.filter((function(e){return e.addressFieldName!==n}));t.change(R,a),t.change(n,void 0);var r=h-1;t.change(G,r),f>a.length+l.length&&t.change(D,f-1)}({addressFieldName:o})},dataTestId:"".concat(o,"-remove-button"),children:Object($.jsx)(y.Icon,{size:"sm",type:"delete",color:"icon",tooltip:"Delete Owner"})})})]},o)}))}),Object($.jsx)(Me,{align:"center",grow:!0,children:Object($.jsx)(ge.a,{color:"secondary","data-testid":"add-new-owner",onClick:function(){var e={nameFieldName:"owner-name-".concat(h),addressFieldName:"owner-address-".concat(h)};t.change(R,[].concat(Object(fe.a)(i),[e]));var n=h+1;t.change(G,n)},children:Object($.jsx)(I.a,{noMargin:!0,size:"lg",children:"+ Add another owner"})})}),Object($.jsxs)(ze,{children:[Object($.jsx)(S.a,{children:Object($.jsx)(I.a,{children:"Any transaction requires the confirmation of:"})}),Object($.jsxs)(Me,{align:"center",grow:!0,children:[Object($.jsx)(T.a,{xs:1,children:Object($.jsx)(z.a,{component:we.a,"data-testid":"threshold-selector-input",name:D,validate:Object(ke.d)(ke.p,Object(ke.i)(2)),children:[].concat(Object(fe.a)(i),Object(fe.a)(l)).map((function(e,n){return Object($.jsx)(me.a,{value:n+1,"data-testid":"threshold-selector-option-".concat(n+1),children:n+1},"threshold-selector-option-".concat(n))}))})}),Object($.jsx)(T.a,{xs:11,children:Object($.jsxs)(De,{noMargin:!0,children:["out of ",i.length+l.length," owner(s)"]})})]})]})]})]})},Ie=function(e){var n={},t=e.owners,a=e.hsbcOwners,r=e.newSafeThreshold,c=t.map((function(n){var t=n.addressFieldName;return e[t]}));return t.forEach((function(t,a){var r=t.addressFieldName,i=e[r];c.slice(0,a).includes(i)&&(n[r]=ke.a)})),!!r&&r<=t.length+a.length||(n.newSafeThreshold=ke.b),n},ze=Object(m.default)(S.a)(ee||(ee=Object(i.a)(["\n  padding: ",";\n"])),E.lg),Be=Object(m.default)(I.a)(ne||(ne=Object(i.a)(["\n  margin-bottom: 12px;\n"]))),Pe=(Object(m.default)(y.Link)(te||(te=Object(i.a)(["\n  padding: 0 ",";\n  & svg {\n    position: relative;\n    top: 1px;\n    left: ",";\n    height: 14px;\n    width: 14px;\n  }\n"])),E.xs,E.xs),Object(m.default)(C.a)(ae||(ae=Object(i.a)(["\n  padding: "," ",";\n  font-size: ",";\n  color: ",";\n"])),E.sm,E.lg,E.extraSmallFontSize,E.disabled)),Le=Object(m.default)(z.a)(re||(re=Object(i.a)(["\n  margin-right: ",";\n  margin-bottom: ",";\n"])),E.sm,E.sm),He=Object(m.default)(Oe.a)(ce||(ce=Object(i.a)(["\n  color: #03ae60;\n  height: 20px;\n"]))),Re=Object(m.default)(T.a)(ie||(ie=Object(i.a)(["\n  height: 56px;\n  max-width: 32px;\n  cursor: pointer;\n"]))),Me=Object(m.default)(C.a)(oe||(oe=Object(i.a)(["\n  justify-content: center;\n"]))),De=Object(m.default)(I.a)(se||(se=Object(i.a)(["\n  padding-left: 12px;\n"]))),Ge=t(613),We=t(20),qe=t(101),Ve=t(294),Ye=t(251),Xe=t(94),Qe=function(){var e=Object(u.a)(d.a.mark((function e(n,t,a,r){var c,i,o,s,l,u,j,f;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Object(qe.b)(r,t,n,a),Object(Xe.c)()]);case 2:return c=e.sent,i=Object(b.a)(c,2),o=i[0],s=i[1],l=o*parseInt(s,10),u=Object(We.n)(),j=Object(Ve.a)(l,u.decimals),f=Object(Ye.a)(j),e.abrupt("return",{gasPrice:s,gasEstimation:o,gasCostFormatted:f,gasLimit:o});case 11:case"end":return e.stop()}}),e)})));return function(n,t,a,r){return e.apply(this,arguments)}}(),Je=t(1590),Ue=t(156);var Ze=function(){var e=Object(x.e)(P.d),n=Object(Z.b)().setCurrentStep;Object(j.useEffect)((function(){e||n(0)}),[e,n]);var t=Object(A.d)(),a=t.getState().values,r=a.suggestedSafeName,c=a.customSafeName||r,i=a.newSafeThreshold,o=a.owners,s=a.hsbcOwners,l=a.safeOwnerENSList,d=o.length,u=o.length+s.length,h=a.safeCreationSalt,O=o.map((function(e){var n=e.addressFieldName;return a[n]})),p=(s.map((function(e){var n=e.addressFieldName;return a[n]})),function(e){var n=e.addresses,t=e.numOwners,a=e.safeCreationSalt,r=Object(j.useState)({gasEstimation:0,gasCostFormatted:"< 0.001",gasLimit:0,gasPrice:"0"}),c=Object(b.a)(r,2),i=c[0],o=c[1],s=Object(x.e)(P.g),l=JSON.stringify(n);return Object(j.useEffect)((function(){var e,n=JSON.parse(l);n.length&&t&&s&&(null===(e=Qe(s,t,a,n))||void 0===e||e.then(o))}),[t,a,l,s]),i}({addresses:O,numOwners:d,safeCreationSalt:h})),m=p.gasCostFormatted,g=p.gasLimit,v=p.gasPrice,w=Object(We.n)();return Object(j.useEffect)((function(){t.change(q,g),t.change(V,v)}),[g,v,t]),Object($.jsxs)(C.a,{"data-testid":"create-safe-review-step",children:[Object($.jsx)(T.a,{xs:4,layout:"column",children:Object($.jsxs)(Ke,{children:[Object($.jsx)(S.a,{margin:"lg",children:Object($.jsx)(I.a,{color:"primary",noMargin:!0,size:"lg",children:"Details"})}),Object($.jsxs)(S.a,{margin:"lg",children:[Object($.jsx)(I.a,{color:"disabled",noMargin:!0,size:"sm",children:"Name of new Safe"}),Object($.jsx)($e,{color:"primary",noMargin:!0,size:"md",weight:"bolder","data-testid":"create-safe-review-safe-name",children:c})]}),Object($.jsxs)(S.a,{margin:"lg",children:[Object($.jsx)(I.a,{color:"disabled",noMargin:!0,size:"sm",children:"Any transaction requires the confirmation of:"}),Object($.jsx)(I.a,{color:"primary",noMargin:!0,size:"md",weight:"bolder","data-testid":"create-safe-review-threshold-label",children:"".concat(i," out of ").concat(u," owners")})]})]})}),Object($.jsx)(T.a,{layout:"column",xs:8,children:Object($.jsxs)(Ge.a,{children:[Object($.jsx)(en,{children:Object($.jsx)(I.a,{color:"primary",noMargin:!0,size:"lg",children:"".concat(d," Customer safe owners")})}),Object($.jsx)(ye.a,{}),o.map((function(e){var n=e.nameFieldName,t=e.addressFieldName,r=a[t],c=a[n]||l[r];return Object($.jsxs)(f.a.Fragment,{children:[Object($.jsx)(nn,{children:Object($.jsx)(T.a,{align:"center",xs:12,"data-testid":"create-safe-owner-details-".concat(r),children:Object($.jsx)(Ue.a,{hash:r,name:c,showAvatar:!0,showCopyBtn:!0,explorerUrl:Object(We.i)(r)})})}),Object($.jsx)(ye.a,{})]},"owner-".concat(t))}))]})}),Object($.jsx)(tn,{align:"center",children:Object($.jsxs)(I.a,{color:"primary",noMargin:!0,size:"lg",children:["You're about to create a new Safe on ",Object($.jsx)(Je.a,{})," and will have to confirm a transaction with your currently connected wallet. The creation will cost approximately ",m," ",w.symbol,". The exact amount will be determined by your wallet."]})})]})},Ke=Object(m.default)(S.a)(Ne||(Ne=Object(i.a)(["\n  padding: ",";\n  border-right: solid 1px ",";\n  height: 100%;\n"])),E.lg,E.border),$e=Object(m.default)(I.a)(_e||(_e=Object(i.a)(["\n  text-overflow: ellipsis;\n  overflow: hidden;\n"]))),en=Object(m.default)(S.a)(Ee||(Ee=Object(i.a)(["\n  padding: ",";\n"])),E.lg),nn=Object(m.default)(C.a)(Fe||(Fe=Object(i.a)(["\n  align-items: center;\n  min-width: fit-content;\n  padding: ",";\n  padding-left: ",";\n"])),E.sm,E.lg),tn=Object(m.default)(C.a)(Ae||(Ae=Object(i.a)(["\n  background-color: ",";\n  padding: ",";\n  text-align: center;\n"])),E.background,E.lg),an=t(104),rn=t(2292),cn=t(44),on=t(157),sn=t(23);function ln(e){return dn.apply(this,arguments)}function dn(){return(dn=Object(u.a)(d.a.mark((function e(n){var t,a,r,c,i,o,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.sender,a=n.hash,r=n.nonce,c=n.data,i=Object(K.j)(),e.next=4,i.eth.getBlock("latest",!0);case 4:return o=e.sent,s=o.transactions.find((function(e){return Object(cn.f)(e.from,t)&&e.nonce===r&&!Object(on.a)(e.hash,a)&&Object(on.a)(e.input,c)})),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var un,bn,jn,fn,hn,On=function e(n,t){var a=n.sender,r=n.hash,c=n.data,i=n.nonce,o=n.gasPrice,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,b=Object(K.j)();return new Promise((function(n,j){var f,h=(t||{}).maxRetries;if(l>(void 0===h?720:h))j(new sn.a(sn.b._805,"max retries reached"));else{var O=function(){var f=Object(u.a)(d.a.mark((function u(){var f,h,O,p,m;return d.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:if(null!=i&&null!=o){d.next=12;break}return f={sender:a,hash:r,data:c},d.prev=2,d.next=5,b.eth.getTransaction(r);case 5:(h=d.sent)&&(f=Object(s.a)(Object(s.a)({},f),{},{nonce:h.nonce,gasPrice:h.gasPrice})),d.next=11;break;case 9:d.prev=9,d.t0=d.catch(2);case 11:return d.abrupt("return",e(f,t,l+1).then(n).catch(j));case 12:return d.prev=12,d.next=15,b.eth.getTransactionReceipt(r);case 15:if(!(O=d.sent)){d.next=18;break}return d.abrupt("return",n(O));case 18:d.next=22;break;case 20:d.prev=20,d.t1=d.catch(12);case 22:return d.prev=22,d.next=25,ln({sender:a,hash:r,nonce:i,data:c});case 25:if(!(p=d.sent)){d.next=33;break}return d.next=29,b.eth.getTransactionReceipt(p.hash);case 29:if(!(m=d.sent)){d.next=32;break}return d.abrupt("return",n(m));case 32:return d.abrupt("return",e({sender:a,nonce:i,hash:p.hash,data:p.input,gasPrice:p.gasPrice},t,l+1).then(n).catch(j));case 33:d.next=37;break;case 35:d.prev=35,d.t2=d.catch(22);case 37:e({sender:a,hash:r,data:c,nonce:i,gasPrice:o},t,l+1).then(n).catch(j);case 38:case"end":return d.stop()}}),u,null,[[2,9],[12,20],[22,35]])})));return function(){return f.apply(this,arguments)}}();setTimeout(O,null!==(f=null===t||void 0===t?void 0:t.delay)&&void 0!==f?f:5e3)}}))},pn=Object(m.default)(y.Text)(un||(un=Object(i.a)(["\n  display: inline-flex;\n  a {\n    margin-left: 4px;\n  }\n  svg {\n    position: relative;\n    top: 4px;\n    left: 4px;\n  }\n"]))),mn=Object(m.default)(ge.a)(bn||(bn=Object(i.a)(["\n  margin-right: 16px;\n"]))),xn=m.default.div(jn||(jn=Object(i.a)(["\n  width: 100%;\n  height: 76px;\n\n  button {\n    margin-top: 24px;\n  }\n"]))),gn=m.default.span(fn||(fn=Object(i.a)(["\n  margin-left: 10px;\n"]))),vn=function(e){var n=e.safeCreationTxHash,t=Object(We.m)(n),a=/(http|https):\/\/(\w+\.\w+)\/.*/i.exec(t),r=null!==a?a[2]:"Network Explorer";return Object($.jsxs)("span",{children:[Object($.jsx)(y.Text,{size:"xl",children:"This process should take a couple of minutes."}),Object($.jsxs)(pn,{size:"xl",children:["Follow the progress on"," ",Object($.jsxs)(y.Link,{href:t,target:"_blank",rel:"noopener noreferrer","data-testid":"safe-create-explorer-link",title:"More info about this in Etherscan",children:[Object($.jsx)(y.Text,{size:"xl",as:"span",color:"primary",children:r}),Object($.jsx)(y.Icon,{size:"sm",type:"externalLink",color:"primary"})]})]})]})},wn=function(e){var n=e.onCancel,t=e.onRetry;return Object($.jsxs)(xn,{children:[Object($.jsx)(ye.a,{}),Object($.jsx)(mn,{onClick:n,variant:"contained",children:"Cancel"}),Object($.jsx)(ge.a,{color:"primary",onClick:t,variant:"contained",children:"Retry"})]})},yn=[{id:"1",label:"Waiting for transaction confirmation",description:void 0,instruction:"Please confirm the Safe creation in your wallet",footerComponent:null},{id:"2",label:"Transaction submitted",description:void 0,instruction:"Please do not leave the page",footerComponent:vn},{id:"3",label:"Validating transaction",description:void 0,instruction:"Please do not leave the page",footerComponent:vn},{id:"4",label:"Deploying smart contract",description:void 0,instruction:"Please do not leave the page",footerComponent:vn},{id:"5",label:"Generating your Safe",description:void 0,instruction:"Please do not leave the page",footerComponent:vn},{id:"6",label:"Success",description:"Your Safe was created successfully",instruction:void 0,footerComponent:function(e){var n=e.continueButtonDisabled,t=e.onContinue;return Object($.jsxs)(xn,{children:[Object($.jsx)(ye.a,{}),Object($.jsx)(ge.a,{color:"primary",disabled:n,onClick:t,variant:"contained","data-testid":"continue-btn",children:n?Object($.jsxs)($.Fragment,{children:[Object($.jsx)(y.Loader,{size:"xs",color:"secondaryLight"})," ",Object($.jsx)(gn,{children:"Loading your Safe"})]}):Object($.jsx)($.Fragment,{children:"Get started"})})]})}}],kn=t(128),Sn=t.p+"static/media/safe-created.99c91369.svg",Cn=t.p+"static/media/vault-error.17985c86.svg",Nn=t.p+"static/media/creation-process.b0164935.gif",_n=t(86),En=t(112),Fn=t(2300),An=t.n(Fn),Tn=t(124),In=t(64),zn=t(26);An.a.addABI(null===(hn=Object(Tn.getProxyFactoryDeployment)({version:zn.i}))||void 0===hn?void 0:hn.abi);var Bn,Pn,Ln,Hn,Rn,Mn,Dn,Gn,Wn,qn,Vn,Yn,Xn,Qn,Jn,Un=function(e){var n,t=An.a.decodeLogs(e).find((function(e){return"ProxyCreation"===e.name})),a=null===t||void 0===t||null===(n=t.events)||void 0===n?void 0:n.find((function(e){return"proxy"===e.name}));return Object(In.a)((null===a||void 0===a?void 0:a.value)||"")},Zn=function(e){var n,t=e.creationTxHash,a=e.onCancel,r=e.onRetry,c=e.onSuccess,i=e.submittedPromise,o=Object(j.useState)(!0),l=Object(b.a)(o,2),f=l[0],h=l[1],O=Object(j.useState)(0),p=Object(b.a)(O,2),m=p[0],g=p[1],v=Object(j.useState)(""),w=Object(b.a)(v,2),k=w[0],S=w[1],C=Object(j.useState)(""),N=Object(b.a)(C,2),_=N[0],E=N[1],F=Object(j.useState)(!1),A=Object(b.a)(F,2),T=A[0],I=A[1],z=Object(j.useState)(!1),B=Object(b.a)(z,2),L=B[0],H=B[1],R=Object(j.useState)(!1),M=Object(b.a)(R,2),D=M[0],G=M[1],W=Object(j.useState)(!1),q=Object(b.a)(W,2),V=q[0],Y=q[1],X=Object(x.e)(P.d),Q=Object(x.d)(),J=function(e){return 0===e}(m),U=Object(j.useCallback)((function(e){Object(K.k)(e)?Q(Object(En.b)(Object(s.a)({},_n.a.TX_PENDING_MSG))):Q(Object(En.b)(Object(s.a)(Object(s.a)({},_n.a.CREATE_SAFE_FAILED_MSG),{},{message:"".concat(_n.a.CREATE_SAFE_FAILED_MSG.message," \u2013 ").concat(e.message)})))}),[Q]),Z=Object(j.useCallback)((function(e){H(!1),G(!1),Y(!1),I(!0),Object(sn.c)(sn.b._800,e.message),U(e)}),[H,G,Y,I,U]),ee=function(){g(0),I(!1),r()};return Object(j.useEffect)((function(){X&&h(!1)}),[X]),Object(j.useEffect)((function(){if(void 0!==i){var e=function(){var e=Object(u.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(0),e.prev=1,e.next=4,i;case 4:n=e.sent,S(n.transactionHash),g(1),H(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),Z(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();e()}}),[i,Z]),Object(j.useEffect)((function(){void 0!==t&&(S(t),g(1),H(!0))}),[t]),Object(j.useEffect)((function(){if(L){var e=function(){var e=Object(u.a)(d.a.mark((function e(n){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(K.i)(),e.next=3,t.eth.getTransaction(n);case 3:if(null!==e.sent.blockNumber){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,t.eth.getTransactionReceipt(n);case 8:if(e.sent.status){e.next=11;break}throw Error("TX status reverted");case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),n=setInterval(Object(u.a)(d.a.mark((function n(){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(m<4&&g(m+1),void 0!==i&&i.then((function(){g(4),G(!0),H(!1)})),void 0===t){n.next=13;break}return n.prev=3,n.next=6,e(t);case 6:n.sent&&(g(4),G(!0),H(!1)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(3),Z(n.t0);case 13:case"end":return n.stop()}}),n,null,[[3,10]])}))),3e3);return function(){clearInterval(n)}}}),[t,i,L,m,T,Z]),Object(j.useEffect)((function(){var e,n=function(){var n=Object(u.a)(d.a.mark((function n(t){var a,r,c;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a=Object(K.i)(),n.next=4,a.eth.getTransactionReceipt(t);case 4:r=n.sent,c=r.events?r.events.ProxyCreation.returnValues.proxy:Un(r.logs),E(c),e=setInterval(Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.eth.getCode(c);case 2:e.sent!==Xe.a&&g(5);case 4:case"end":return e.stop()}}),e)}))),1e3),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),Z(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}();if(D)return"string"===typeof k&&n(k),function(){clearInterval(e)}}),[k,D,Z]),f||void 0===m?Object($.jsx)(Kn,{"data-testid":"create-safe-loader",children:Object($.jsx)(y.Loader,{size:"md"})}):(T?n=wn:yn[m].footerComponent&&(n=yn[m].footerComponent),Object($.jsxs)($n,{children:[Object($.jsx)(et,{tag:"h2",testId:"safe-creation-process-title",children:"Safe creation process"}),Object($.jsx)(nt,{children:Object($.jsx)(y.Stepper,{activeStepIndex:m,error:T,orientation:"vertical",steps:yn})}),Object($.jsxs)(tt,{children:[Object($.jsx)(ct,{children:Object($.jsx)(kn.a,{alt:"Vault",height:92,src:T?Cn:m<=4?Nn:Sn})}),Object($.jsx)(it,{children:Object($.jsx)(at,{children:yn[m].description||yn[m].label})}),yn[m].instruction&&Object($.jsx)(ot,{children:Object($.jsx)(rt,{color:"primary",inversecolors:J.toString(),noMargin:!0,size:"md",$stepIndex:m,children:T?"You can Cancel or Retry the Safe creation process.":yn[m].instruction})}),Object($.jsx)(st,{children:n?Object($.jsx)(n,{continueButtonDisabled:V,onCancel:a,onClick:ee,onContinue:function(){Y(!0),c(_)},onRetry:ee,safeCreationTxHash:k}):null})]}),0!==m&&Object($.jsx)(lt,{color:"primary",minWidth:140,onClick:a,"data-testid":"safe-creation-back-btn",children:"Back"})]}))},Kn=m.default.div(Bn||(Bn=Object(i.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n"]))),$n=m.default.div(Pn||(Pn=Object(i.a)(["\n  display: grid;\n  grid-template-columns: 250px auto;\n  grid-template-rows: 43px auto;\n  margin-bottom: 30px;\n"]))),et=Object(m.default)(N.a)(Ln||(Ln=Object(i.a)(["\n  grid-column: 1/3;\n  grid-row: 1;\n  margin: 7px 0 0 0 !important;\n"]))),nt=m.default.div(Hn||(Hn=Object(i.a)(["\n  grid-column: 1;\n  grid-row: 2;\n"]))),tt=m.default.div(Rn||(Rn=Object(i.a)(["\n  grid-column: 2;\n  grid-row: 2;\n  text-align: center;\n  background-color: ",";\n  border-radius: 5px;\n  min-width: 700px;\n  padding-top: 70px;\n  box-shadow: 0 0 10px 0 rgba(33, 48, 77, 0.1);\n\n  display: grid;\n  grid-template-rows: 100px 50px 110px 1fr;\n"])),(function(e){return e.theme.colors.white})),at=m.default.div(Mn||(Mn=Object(i.a)(["\n  font-size: 20px;\n  padding-top: 10px;\n"]))),rt=Object(m.default)(I.a)(Dn||(Dn=Object(i.a)(["\n  background-color: ",";\n  color: ",";\n  padding: 28px;\n  font-size: 20px;\n  margin-bottom: 16px;\n  transition: color 0.3s ease-in-out, background-color 0.3s ease-in-out;\n"])),(function(e){return 0===e.$stepIndex?E.connected:E.background}),(function(e){var n=e.theme;return 0===e.$stepIndex?n.colors.white:E.fontColor})),ct=m.default.div(Gn||(Gn=Object(i.a)(["\n  grid-row: 1;\n"]))),it=m.default.div(Wn||(Wn=Object(i.a)(["\n  grid-row: 2;\n"]))),ot=m.default.div(qn||(qn=Object(i.a)(["\n  grid-row: 3;\n  margin: 27px 0;\n"]))),st=m.default.div(Vn||(Vn=Object(i.a)(["\n  grid-row: 4;\n\n  padding: 10px 0;\n  display: flex;\n  justify-content: center;\n  align-items: flex-end;\n"]))),lt=Object(m.default)(ge.a)(Yn||(Yn=Object(i.a)(["\n  grid-column: 2;\n  margin: 20px auto 0;\n"]))),dt=t(189),ut=t(227),bt=t(315),jt=t(392),ft=t(132),ht=t(342),Ot=t(468),pt=t(57),mt=Object(m.default)(Ue.a)(Xn||(Xn=Object(i.a)(["\n  display: inline-flex;\n"]))),xt=function(){_.s.push(_.j)},gt=function(e){return new Promise((function(n){return setTimeout(n,e)}))},vt=function(e){var n="[ethjs-query] while formatting outputs from RPC ";if(!e.message.startsWith(n))return e;var t=e.message.split(n).pop()||"",a="";try{a=JSON.parse(t.slice(1,-1)).value.message}catch(r){a=""}return a?new Error(a):e};var wt,yt,kt,St,Ct,Nt=function(){var e=Object(j.useState)(),n=Object(b.a)(e,2),t=n[0],a=n[1],r=Object(j.useState)(),c=Object(b.a)(r,2),i=c[0],l=c[1],f=Object(dt.g)().trackEvent,h=Object(x.d)(),O=Object(x.e)(P.g),p=Object(x.e)(pt.a),m=Object(j.useState)(!1),g=Object(b.a)(m,2),v=g[0],w=g[1],k=Object(j.useState)({safeAddress:""}),S=Object(b.a)(k,2),C=S[0],N=S[1],E=Object(j.useState)(!1),F=Object(b.a)(E,2),A=F[0],T=F[1],z=Object(j.useState)(""),B=Object(b.a)(z,2),L=B[0],H=B[1],R=Object(j.useCallback)((function(){var e=Object(an.b)(U);e?(a(e.safeCreationTxHash),l(new Promise((function(n,t){var a=e.newSafeThreshold,r=e.owners.map((function(n){var t=n.addressFieldName;return e[t]})),c=e.safeCreationSalt,i=e.gasLimit,l=e.gasPrice,d=Object(qe.h)(r,a,c),u=Object(Ot.b)(O,{ethGasLimit:i.toString(),ethGasPriceInGWei:l});d.send(u).once("transactionHash",(function(a){Object(an.d)(U,Object(s.a)(Object(o.a)({},Y,a),e)),On({sender:O,hash:a,data:d.encodeABI()}).then((function(e){console.log("Speed up tx mined:",e),n(e)})).catch((function(e){t(vt(e))}))})).then((function(e){console.log("First tx mined:",e),n(e)})).catch((function(e){t(vt(e))}))})))):xt()}),[O]);Object(j.useEffect)((function(){var e=Object(an.b)(U);if(e){var n=e.safeCreationTxHash;n?a(n):R()}else xt()}),[R]);var M=function(){var e=Object(u.a)(d.a.mark((function e(n){var t,a,r,c,i,o,s,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object(an.b)(U)){e.next=4;break}return xt(),e.abrupt("return");case 4:return a=t.safeCreationTxHash,r=t.suggestedSafeName,c=t.customSafeName||r,i=t.owners,o=i.map((function(e){var n=e.nameFieldName,a=e.addressFieldName,r=t[a];return Object(ht.b)({address:t[a],name:t[n]||t.safeOwnerENSList[r],chainId:p})})),s=Object(ht.b)({address:n,name:c,chainId:p}),e.next=12,h(Object(ft.e)([].concat(Object(fe.a)(o),[s])));case 12:return f(dt.d.CREATE_SAFE),e.next=15,gt(5e3);case 15:return e.prev=15,e.next=18,Object(rn.backOff)((function(){return Object(bt.a)(n)}),{startingDelay:750,maxDelay:2e4,numOfAttempts:19,retry:function(e){return console.info("waiting for client-gateway to provide safe information",e),!0}});case 18:e.next=25;break;case 20:return e.prev=20,e.t0=e.catch(15),H(n),T(!0),e.abrupt("return");case 25:return e.next=27,Object(jt.a)(n);case 27:return l=e.sent,e.next=30,h(Object(ut.b)(l));case 30:w(!0),N({safeAddress:l.address,safeName:c,safeCreationTxHash:a});case 32:case"end":return e.stop()}}),e,null,[[15,20]])})));return function(n){return e.apply(this,arguments)}}(),D=function(){Object(an.c)(U),xt()};function G(){Object(an.c)(U);var e=C.safeName,n=C.safeCreationTxHash,t=C.safeAddress;_.s.push({pathname:Object(_.o)(_.g.ASSETS_BALANCES,{shortName:Object(We.r)(),safeAddress:t}),state:{name:e,tx:n}})}return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(Zn,{creationTxHash:t,onCancel:D,onRetry:function(){var e=Object(an.b)(U);e?(a(void 0),delete e.safeCreationTxHash,Object(an.d)(U,e),R()):xt()},onSuccess:M,submittedPromise:i}),v&&Object($.jsx)(y.GenericModal,{onClose:G,title:"Safe Created!",body:Object($.jsxs)("div",{"data-testid":"safe-created-popup",children:[Object($.jsxs)(I.a,{children:["You just created a new Safe on ",Object($.jsx)(Je.a,{})]}),Object($.jsxs)(I.a,{children:["You will only be able to use this Safe on ",Object($.jsx)(Je.a,{})]}),Object($.jsxs)(I.a,{children:["If you send assets on other networks to this address,"," ",Object($.jsx)(Et,{children:"you will not be able to access them"})]})]}),footer:Object($.jsx)(_t,{children:Object($.jsx)(ge.a,{testId:"safe-created-button",onClick:G,color:"primary",type:"button",size:"small",variant:"contained",children:"Continue"})})}),A&&L&&Object($.jsx)(y.GenericModal,{onClose:D,title:"Unable to load the new Safe",body:Object($.jsx)("div",{children:Object($.jsxs)(I.a,{children:["We are currently unable to load the Safe but it was successfully created and can be found ",Object($.jsx)("br",{}),"under the following address"," ",Object($.jsx)(mt,{hash:L,showCopyBtn:!0,explorerUrl:Object(We.i)(L)})]})}),footer:Object($.jsx)(_t,{children:Object($.jsx)(ge.a,{onClick:D,color:"primary",type:"button",size:"small",variant:"contained",children:"OK"})})})]})},_t=m.default.div(Qn||(Qn=Object(i.a)(["\n  text-align: center;\n"]))),Et=m.default.span(Jn||(Jn=Object(i.a)(["\n  font-weight: ",";\n"])),E.boldFont),Ft=t(2931),At=t(2932),Tt=t(340),It=t.n(Tt),zt=t(2933),Bt=t(1500),Pt=t(210),Lt=t(164),Ht=t(398),Rt=t(729),Mt=t(106);var Dt,Gt,Wt=Object(m.default)(S.a)(wt||(wt=Object(i.a)(["\n  padding: ",";\n"])),E.lg),qt=m.default.div(yt||(yt=Object(i.a)(["\n  margin: ",";\n  display: flex;\n  justify-content: center;\n"])),E.lg),Vt=Object(m.default)(At.a)(kt||(kt=Object(i.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 16px 24px;\n"]))),Yt=Object(m.default)(zt.a)(St||(St=Object(i.a)(["\n  min-width: 500px;\n"]))),Xt=m.default.div(Ct||(Ct=Object(i.a)(["\n  display: flex;\n  margin: "," auto;\n  cursor: pointer;\n  max-width: 50%;\n\n  & > span {\n    font-size: 13px;\n  }\n"])),E.lg),Qt=function(){var e=Object(j.useState)(!1),n=Object(b.a)(e,2),t=n[0],a=n[1],r=!!Object(x.e)(P.d),c=Object(x.e)(P.f);function i(){a(!0)}var o=Object(j.useCallback)((function(e){Object(Lt.a)(e),a(!1)}),[]);return Object($.jsxs)(Wt,{"data-testid":"select-network-step",children:[r?Object($.jsxs)(I.a,{color:"primary",noMargin:!0,size:"lg",children:["Select network on which to create your Safe. The app is currently pointing to"," ",Object($.jsx)(Je.a,{onClick:i})]}):Object($.jsx)(I.a,{color:"primary",noMargin:!0,size:"lg",children:"In order to select the network to create your Safe, you need to connect a wallet"}),Object($.jsx)(qt,{children:r?Object($.jsx)(y.ButtonLink,{type:"button",onClick:i,color:"primary","data-testid":"switch-network-link",children:"Switch Network"}):Object($.jsx)(Ht.a,{"data-testid":"heading-connect-btn"})}),r&&c&&Object($.jsxs)(I.a,{color:"primary",size:"lg",children:["Your wallet connection must match the selected network. ",Object($.jsx)(Rt.a,{})]}),Object($.jsxs)(Ft.a,{onClose:function(){return a(!1)},"aria-labelledby":"select-network","data-testid":"select-network-popup",open:t,children:[Object($.jsxs)(Vt,{disableTypography:!0,children:[Object($.jsx)(Pt.a,{variant:"h5",children:"Select Network"}),Object($.jsx)(h.a,{"aria-label":"close",onClick:function(){return a(!1)},children:Object($.jsx)(It.a,{})})]}),Object($.jsx)(Yt,{dividers:!0,children:Object($.jsx)(Bt.a,{component:"div",children:Object(Mt.b)().map((function(e){return Object($.jsx)(Xt,{role:"button",onClick:function(){return o(e.chainId)},children:Object($.jsx)(Je.a,{networkInfo:e,flexGrow:!0})},e.chainId)}))})})]})]})},Jt=[{name:"HSBC Wallet 1",address:"0xE0fF0574a54c5402fDd18c09310F3E0b2A2b4C95"},{name:"HSBC Wallet 2",address:"0x6f9a6e832D3632f0e028EB67EA73a9f21DdCe6EE"},{name:"HSBC Wallet 3",address:"0xf92E2cAfDF7E1C81FB08d709dC2D060FBDC7493E"}];n.default=function(){var e=Object(j.useState)(),n=Object(b.a)(e,2),t=n[0],a=n[1],r=Object(j.useState)(!0),c=Object(b.a)(r,2),i=c[0],l=c[1],f=Object(x.e)(P.d),h=Object(x.e)(P.f),O=!!f&&!h;Object(j.useEffect)((function(){var e=function(){var e=Object(u.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,Promise.resolve(Object(an.b)(U));case 3:n=e.sent,O&&a(n),l(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[O]);var m=Object(x.e)(P.g),g=Object(x.e)(Ce.f),E=Object(w.i)(),A=Object(je.a)(),T=Object(j.useState)(),I=Object(b.a)(T,2),z=I[0],B=I[1];return Object(j.useEffect)((function(){if(O&&m){var e=function(e,n,t,a,r){var c,i,l,d=v.a.parse(t.search,{arrayFormat:"comma"}),u=d.name,b=d.owneraddresses,j=d.ownernames,f=d.threshold,h=!!b,O=Array.isArray(b)?b:[b],p=h?O:[e],m=Array.isArray(j)?j:[j],x=[(null===(c=n[e])||void 0===c?void 0:c.name)||""],g=h?m:x,w=Number(f),y=f&&!Number.isNaN(f)&&w<=p.length+r.length&&w>0;return Object(s.a)(Object(s.a)(Object(s.a)(Object(s.a)((i={},Object(o.a)(i,H,a),Object(o.a)(i,L,u),Object(o.a)(i,D,y?f:2),Object(o.a)(i,R,p.map((function(e,n){return{nameFieldName:"owner-name-".concat(n),addressFieldName:"owner-address-".concat(n)}}))),Object(o.a)(i,M,{}),i),p.reduce((function(e,n,t){return Object(s.a)(Object(s.a)({},e),{},Object(o.a)({},"owner-address-".concat(t),n))}),{})),g.reduce((function(e,n,t){return Object(s.a)(Object(s.a)({},e),{},Object(o.a)({},"owner-name-".concat(t),n))}),{})),{},(l={},Object(o.a)(l,G,p.length),Object(o.a)(l,W,Date.now()),Object(o.a)(l,Q,r.map((function(e,n){return{hsbcNameFieldName:"hsbc-owner-".concat(n),hsbcAddressFieldName:"hsbc-address-".concat(n)}}))),Object(o.a)(l,J,{}),l),r.map((function(e){return e.address})).reduce((function(e,n,t){return Object(s.a)(Object(s.a)({},e),{},Object(o.a)({},"hsbc-address-".concat(t),n))}),{})),r.map((function(e){return e.name})).reduce((function(e,n,t){return Object(s.a)(Object(s.a)({},e),{},Object(o.a)({},"hsbc-owner-".concat(t),n))}),{}))}(m,g,E,A,Jt);B(e)}}),[O,m,g,E,A]),i?Object($.jsx)(Ut,{"data-testid":"create-safe-loader",children:Object($.jsx)(y.Loader,{size:"md"})}):t?Object($.jsx)(Nt,{}):Object($.jsx)(k.a,{children:Object($.jsxs)(S.a,{children:[Object($.jsxs)(C.a,{align:"center",children:[Object($.jsx)(Zt,{disableRipple:!0,onClick:_.s.goBack,children:Object($.jsx)(p.a,{})}),Object($.jsx)(N.a,{tag:"h2",children:"Create new Safe"})]}),Object($.jsxs)(F.b,{initialValues:z,onSubmit:function(e){Object(an.d)(U,Object(s.a)({},e)),a(e)},testId:"create-safe-form",children:[Object($.jsx)(F.a,{label:"Connect wallet & select network",nextButtonLabel:"Continue",disableNextButton:!O,children:Object($.jsx)(Qt,{})}),Object($.jsx)(F.a,{label:"Name",nextButtonLabel:"Continue",children:Object($.jsx)(le,{})}),Object($.jsx)(F.a,{label:"Owners and Confirmations",nextButtonLabel:"Continue",validate:Ie,children:Object($.jsx)(Te,{})}),Object($.jsx)(F.a,{label:"Review",nextButtonLabel:"Create",children:Object($.jsx)(Ze,{})})]})]})})};var Ut=m.default.div(Dt||(Dt=Object(i.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n"]))),Zt=Object(m.default)(h.a)(Gt||(Gt=Object(i.a)(["\n  color: ",";\n  padding: ",";\n  margin-right: 5px;\n"])),E.secondary,E.sm)}}]);
//# sourceMappingURL=42.0d649ebd.chunk.js.map